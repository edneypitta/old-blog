<!doctype html>
	<!--[if !IE]>
	<html class="no-js non-ie" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if IE 7 ]>
	<html class="no-js ie7" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if IE 8 ]>
	<html class="no-js ie8" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if IE 9 ]>
	<html class="no-js ie9" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if gt IE 9]><!-->
<html class="no-js" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <!--<![endif]-->
<head>
<base href="https://edneypitta.github.io/old-blog" />

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Arquivos Certifica√ß√£o - P√°gina 4 de 4 - Edney Pitta</title>

<!-- This site is optimized with the Yoast SEO plugin v3.0.7 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="https://edneypitta.github.io/old-blog/category/certificacao/page/4/" />

<meta property="og:locale" content="pt_BR" />
<meta property="og:type" content="object" />
<meta property="og:title" content="Arquivos Certifica√ß√£o - P√°gina 4 de 4 - Edney Pitta" />
<meta property="og:url" content="https://edneypitta.github.io/old-blog/category/certificacao/page/4/" />
<meta property="og:site_name" content="Edney Pitta" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Arquivos Certifica√ß√£o - P√°gina 4 de 4 - Edney Pitta"/>
<meta name="twitter:site" content="@edneypitta"/>
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />



		<script type="text/javascript">
			
			
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='sparkling-bootstrap-css'  href='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/css/bootstrap.min.css?ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='sparkling-icons-css'  href='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/css/font-awesome.min.css?ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='sparkling-fonts-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A400italic%2C400%2C600%2C700%7CRoboto+Slab%3A400%2C300%2C700&#038;ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='sparkling-style-css'  href='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/style.css?ver=4.8.2' type='text/css' media='all' />
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/modernizr.min.js?ver=4.8.2'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/bootstrap.min.js?ver=4.8.2'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/functions.min.js?ver=4.8.2'></script>
<link rel='https://api.w.org/' href='https://edneypitta.github.io/old-blog/wp-json/' />

 

<script data-cfasync="false" src="//load.sumome.com/" data-sumo-site-id="025f16b2b72012bef5c86b74ea4d0bd0652e8245a2df8c61ed302458c0f98f3b" async></script><style type="text/css">.entry-content {font-family: Open Sans; font-size:14px; font-weight: normal; color:#6B6B6B;}.navbar > .container .navbar-brand {
font-size: 35px;
margin-top: 7px;
}

#menu-social i{
font-size:17px;
}
#menu-social-1 i {
font-size:22px;
}

article ul {
    list-style: none;
    padding:0;
    margin:0;
margin-bottom: 10px;
}

article li { 
    padding-left: 1em; 
    text-indent: -.7em;
}

article li:before {
    content: "\2022";
    color: rgb(191, 66, 78); 
padding-right:7px;
font-size: 15px;
}

#logo {
margin: 10px 0px;
}

.textwidget a:hover h2{
color:#c9302c;
}</style>	<style type="text/css">
			.navbar > .container .navbar-brand {
			color: #ffffff;
		}
		</style>
	<link rel="icon" href="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-32x32.png" sizes="32x32" />
<link rel="icon" href="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-180x180.png" />
<meta name="msapplication-TileImage" content="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-270x270.png" />

<script type="text/javascript">
jQuery(document).ready(function()
{
jQuery('.fa-linkedin-square').parent().attr('target', '_blank').attr('title', 'LinkedIn');
jQuery('.fa-facebook-square').parent().attr('target', '_blank').attr('title', 'Facebook');
jQuery('.fa-twitter-square').parent().attr('target', '_blank').attr('title', 'Twitter');
jQuery('.fa-rss').parent().attr('target', '_blank').attr('title', 'RSS');

jQuery('.fa-info-circle').parent().attr('title', 'Sobre');
});
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66613004-1', 'auto');
  ga('send', 'pageview');

</script>
</head>

<body class="archive paged category category-certificacao category-8 paged-4 category-paged-4">
<div id="page" class="hfeed site">

	<header id="masthead" class="site-header" role="banner">
		<nav class="navbar navbar-default" role="navigation">
			<div class="container">
				<div class="row">
					<div class="site-navigation-inner col-sm-12">
						<div class="navbar-header">
							<button type="button" class="btn navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>

							
							<div id="logo">
								<a href="https://edneypitta.github.io/old-blog/"><img src="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-edneypitta-oficialissimo-fundo-branco.png"  height="84" width="411" alt="Edney Pitta"/></a>
							</div><!-- end of #logo -->

							
							
						</div>
						<div class="collapse navbar-collapse navbar-ex1-collapse"><ul id="menu-social" class="nav navbar-nav"><li id="menu-item-20" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20"><a title="&lt;i class=&quot;fa fa-linkedin-square&quot;&gt;&lt;/i&gt;" href="https://br.linkedin.com/in/edneypitta"><i class="fa fa-linkedin-square"></i></a></li>
<li id="menu-item-22" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-22"><a title="&lt;i class=&quot;fa fa-facebook-square&quot;&gt;&lt;/i&gt;" href="https://www.facebook.com/edneypitta"><i class="fa fa-facebook-square"></i></a></li>
<li id="menu-item-23" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-23"><a title="&lt;i class=&quot;fa fa-twitter-square&quot;&gt;&lt;/i&gt;" href="https://twitter.com/edneypitta"><i class="fa fa-twitter-square"></i></a></li>
<li id="menu-item-24" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-24"><a title="&lt;i class=&quot;fa fa-rss&quot;&gt;&lt;/i&gt;" href="https://edneypitta.github.io/old-blog/feed/"><i class="fa fa-rss"></i></a></li>
<li id="menu-item-27" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-27"><a title="&lt;i class=&quot;fa fa-info-circle&quot;&gt;&lt;/i&gt;" href="https://edneypitta.github.io/old-blog/sobre/"><i class="fa fa-info-circle"></i></a></li>
</ul></div>					</div>
				</div>
			</div>
		</nav><nav class="navbar navbar-default" role="navigation">				<div class="container">					<div class="row">						<div class="col-sm-12" style="padding-bottom:10px">							<h2 style='color:#faebcc'><i class="fa fa-exclamation-circle" aria-hidden="true"></i> Novo blog: <a href="https://edneypitta.com" style='color:#faebcc'>https://edneypitta.com</a></h2>						</div>					</div>				</div>			</nav>
	</header><!-- #masthead -->

	<div id="content" class="site-content">

		<div class="top-section">
								</div>

		<div class="container main-content-area">
			<div class="row">
				<div class="main-content-inner col-sm-12 col-md-8 pull-left">

	<section id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">
					Certifica√ß√£o				</h1>
							</header><!-- .page-header -->

						
				
<article id="post-268" class="post-268 post type-post status-publish format-standard hentry category-certificacao tag-70-487">
	<div class="blog-item-wrap">
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-4-implement-data-storage-in-windows-azure/" title="Certifica√ß√£o Microsoft 70-487: Objetivo 1.4 &#8211; Implement data storage in Windows Azure" >
			 				</a>
		<div class="post-inner-content">
			<header class="entry-header page-header">

				<h1 class="entry-title"><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-4-implement-data-storage-in-windows-azure/" rel="bookmark">Certifica√ß√£o Microsoft 70-487: Objetivo 1.4 &#8211; Implement data storage in Windows Azure</a></h1>

								<div class="entry-meta">
					<span class="posted-on"><i class="fa fa-calendar"></i> <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-4-implement-data-storage-in-windows-azure/" rel="bookmark"><time class="entry-date published" datetime="2016-01-10T16:59:54+00:00">10/01/2016</time><time class="updated" datetime="2016-03-01T16:55:54+00:00">01/03/2016</time></a></span><span class="byline"> <i class="fa fa-user"></i> <span class="author vcard"><a class="url fn n" href="https://edneypitta.github.io/old-blog/author/admin/">Edney Pitta</a></span></span>				<span class="comments-link"><i class="fa fa-comment-o"></i><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-4-implement-data-storage-in-windows-azure/#comments"><span class="dsq-postid" data-dsqidentifier="268 https://edneypitta.github.io/old-blog/?p=268">1 Coment√°rio</span></a></span>
				
				
				</div><!-- .entry-meta -->
							</header><!-- .entry-header -->

						<div class="entry-content">

				<p>Ol√° pessoal! Vamos ao primeiro (e um dos poucos) objetivo que fala de Azure na certifica√ß√£o de Azure, o Implement data storage in Windows Azure. Para acompanhar os objetivos j√° postados, <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/" target="_blank">clique aqui</a>.</p>
<p>O primeiro t√≥pico desse objetivo √© sobre armazenamento de dados. Comparado com mecanismos de armazenamento de dados tradicionais, as solu√ß√µes do Azure oferecem um suporte bem parecido com o que j√° existe. Mas √© claro que coisas novas geram mudan√ßas, ainda mais com um paradigma mais recente que √© a nuvem. Por exemplo, acesso √† internet √© fundamental para que qualquer armazenamento no Azure funcione.</p>
<p>As op√ß√µes de armazenamento de dados no Azure s√£o: <strong>Local Storage</strong>; <strong>Blob</strong>, <strong>Table </strong>e <strong>Queue </strong>(fazendo parte do Windows Azure Storage); e <strong>SQL Database</strong>. Para o exame, √© bem prov√°vel que voc√™ encontre alguma pergunta onde um cen√°rio √© dado e voc√™ deve escolher quais desses itens resolveriam o problema. Vamos √†s explica√ß√µes b√°sicas: quando voc√™ ler v√≠deo, √°udio ou imagem, a pergunta est√° se tratando de Blob. Quando √© algum dado estruturado, pode ser Table ou SQL Database, se a estrutura for relacional. Queue se trata de garantir um mecanismo de envio de mensagens em fila. Local Storage √© um armazenamento tempor√°rio igual a um sistema de arquivos. Vamos nos aprofundar na implementa√ß√£o desses itens.</p>
<h2>Blob Storage</h2>
<p>A estrutura de Blob foi feita para armazenamento de dados bin√°rios, como os j√° mencionados v√≠deo, √°udio e imagem. √â poss√≠vel tamb√©m armazenar um arquivo Excel como bin√°rio sem nenhum problema. Um dos principais benef√≠cios √© que as informa√ß√µes s√£o acess√≠veis via HTTP. Basta ter a URL e voc√™ pode acessar uma imagem, por exemplo. Os arquivos podem ter o tamanho de at√© 100 TB. Acho que j√° deu para entender o conceito, mas as coisas ideais de serem armazenadas em Blob s√£o: imagens que podem ser vistas diretamente no browser, documentos, backups de banco de dados, v√≠deos e √°udios.</p>
<p>A estrutura do Blob funciona assim: no n√≠vel mais alto est√° a Storage Account. Dentro dela temos Containers e, dentro dos Containers, Blobs. H√° o limite de 100 TB em uma Storage Account, por√©m ela pode ter quantos Containers forem necess√°rios. Pense em um Container como um subdiret√≥rio para organizar os blobs (a diferen√ßa √© que Containers n√£o podem conter Containers). Um Blob √© um arquivo, sem restri√ß√£o de formato. H√° duas categorias de Blobs: Block (limite de 200 GB) e Page (limite de 1 TB).</p>
<p>Voc√™ pode acessar um Blob de duas formas. A primeira, como citado, √© por uma URL HTTP. A URL tem o seguinte formato: <em>http://<storage account name>.blob.core.windows.net/{container}/{blob}</em>. </p>
<p>A segunda maneira √© pela API do Azure SDK. Voc√™ deve adicionar uma refer√™ncia ao assembly <em>Microsoft.WindowsAzure.Storage.dll</em>. A Storage Account √© representada pela classe <em>CloudStorageAccount</em>. Para instanci√°-la, voc√™ pode usar um de seus dois construtores. O primeiro recebe uma <em>StorageCredentials </em>e tr√™s URIs representando o endpoint do Blob, Queue e Storage, nessa ordem. O segundo construtor recebe uma StorageCredentials e um bool que indica se ser√° utilizado HTTPS. Vamos ao c√≥digo:</p>
<p><script src="https://gist.github.com/edneypitta/9c363220a2822b98be39.js"></script></p>
<p>Outra maneira (bem melhor) de instanciar a classe CloudStorageAccount √© usando o m√©todo est√°tico <em>Parse </em>ou <em>TryParse</em>, que possui dois overloads: √© poss√≠vel usar a classe <em>CloudConfigurationManager </em>e chamar o m√©todo GetSetting(), que obt√©m a informa√ß√£o do arquivo .CSCFG do seu projeto Windows Azure Cloud, ou passar somente uma connection string no formato certo (<em>&lt;add name=&#8221;StorageConnection&#8221; connectionString=&#8221;DefaultEndpointsProtocol=https;AccountName=ACCOUNT_NAME_GOES_HERE;AccountKey=ACCOUNT_KEY_GOES_HERE&#8221; /&gt;</em>).</p>
<p><script src="https://gist.github.com/edneypitta/b7f3c27b8c5292495305.js"></script></p>
<p>Depois de instanciada a classe CloudStorageAccount, voc√™ precisa criar um <em>CloudBlobClient </em>e obter uma refer√™ncia ao <em>CloudBlobContainer</em>. Lembre-se de que h√° dois tipos de Blobs e cada um tem seu m√©todo para obter a refer√™ncia (<em>GetBlockBlobReference </em>e <em>GetPageBlobReference</em>). </p>
<p>Do Container √© poss√≠vel obter a refer√™ncia para o blob desejado e salvar o conte√∫do do arquivo chamando o m√©todo <em>UploadFromStream</em>. H√° outros dois m√©todos para realizar o upload (<em>UploadFromByteArray </em>e <em>UploadFromFile</em>). Todos eles sobrescrevem os dados se eles j√° existirem e t√™m sua vers√£o ass√≠ncrona (com Async no final do nome), o que √© ideal para fazer o upload de Blobs grandes. √â tamb√©m recomendado envolver a chamada de qualquer Upload em um try/catch para tratar quaisquer erros de rede. Para fazer o download de um Blob, basta chamar o m√©todo <em>DownloadToStream</em>. Para deletar um Blob, h√° os m√©todos <em>Delete </em>e <em>DeleteIfExists</em>.</p>
<p>A cria√ß√£o padr√£o de um Container √© com acesso privado. Voc√™ pode mudar a permiss√£o chamando o m√©todo <em>SetPermissions </em>de um CloudBlobContainer, passando um <em>BlobContainerPermissions </em>com <em>PublicAccess </em>habilitado, por exemplo. Voc√™ pode tamb√©m distribuir assinaturas de acesso tempor√°rias com o m√©todo <em>GetSharedAccessSignature</em>, tanto de um Container quanto de um Blob.</p>
<h2>Table e Queue Storage</h2>
<p>Uma Table storage serve armazenar dados n√£o relacionais, como os bancos de dados NoSQL (CouchDB ou MongoDB, por exemplo). Uma Queue storage serve para armazenar mensagens no esquema de fila, onde o primeiro item que entra √© o primeiro a sair (FIFO, First In First Out). Queues s√£o √∫teis em sistemas de entrega de mensagens ou longos processamentos.</p>
<p>As APIs de Table e Queue s√£o bem parecidas com as do Blob. Voc√™ instancia a classe CloudStorageAccount, chama o m√©todo CreateCloudTableClient ou CreateCloudQueueClient e <em>voil√†</em>. Tables e Queues s√£o sempre privadas.</p>
<p>Queues s√£o mais simples porque n√£o h√° m√©todos de busca. Al√©m de poder obter uma quantidade aproximada de itens na fila, basicamente h√° m√©todos para colocar e obter mensagens da fila (push-and-pop). Um aspecto interessante √© que obter uma mensagem da fila n√£o a remove completamente, s√≥ a deixa invis√≠vel por um per√≠odo de tempo (1 minuto por padr√£o). Se seu processamento demorar mais do que esse tempo, voc√™ deve atualizar o status da mensagem como escondida para que outros processos n√£o a vejam na fila. Ap√≥s terminar seu processamento, a√≠ sim voc√™ pode deletar a mensagem da fila.</p>
<p>Tables s√£o um pouco mais interessantes pois √© poss√≠vel interagir com os dados. O jeito principal de obter um registro √© executar uma <em>TableOperation</em>, mas voc√™ pode obter v√°rios registros com uma <em>TableQuery</em>. Vamos a um trecho de c√≥digo que adiciona um registro, obt√©m esse registro e o deleta. Note que a classe <em>Record </em>herda de <em>TableEntity</em>, sendo poss√≠vel criar classes que representam os dados na Table.</p>
<p><script src="https://gist.github.com/edneypitta/fc10682479610341beea.js"></script></p>
<h2>Distribui√ß√£o de Dados Usando Windows Azure Content Delivery Network (CDN)</h2>
<p>O Windows Azure Content Delivery Network (CDN) √© uma maneira de cachear conte√∫dos est√°ticos (Blobs). A ideia √© usar uma localidade pr√≥xima ao client para melhorar a performance e largura de banda. Os dois principais benef√≠cios, segundo a MSDN, s√£o:</p>
<ul>
<li>Melhorar a performance para usu√°rios que est√£o longe da fonte de conte√∫do e est√£o utilizando aplica√ß√µes que necessitam de muitas requisi√ß√µes;</li>
<li>Escalar a distribui√ß√£o para lidar melhor com uma alta carga instant√¢nea, como um lan√ßamento de produto.</li>
</ul>
<p>Para usar o CDN, voc√™ deve habilitar no portal do Azure. Depois, o CDN vai funcionar assim: quando um request for feito para um Blob, ele vai redirecionar transparentemente o request para a localiza√ß√£o mais pr√≥xima, para evitar uma viagem muito grande. O primeiro request ser√° feito normalmente, mas os pr√≥ximos ser√£o cacheados naquela regi√£o. O tempo de expira√ß√£o √© importante, pois como os itens s√£o cacheados, alguns problemas podem acontecer caso o item seja atualizado frequentemente. O que controla o tempo de expira√ß√£o √© a configura√ß√£o Time To Live (TTL) no portal.</p>
<p>Para deixar um conte√∫do dispon√≠vel para CDN, ele deve estar em um container p√∫blico e dispon√≠vel para acesso an√¥nimo. Containers p√∫blicos podem ser setados via API, como citado acima. A propriedade PublicAccess deve ser configurada como <em>BlobContainerPublicAccessType.Container</em>.</p>
<p>Com tudo configurado, basta acessar o Blob. A URL tradicional vai funcionar normalmente (<em>http://<storage account name>.blob.core.windows.net/{container}/{blob}</em>), mas uma nova URL ficar√° dispon√≠vel pelo CDN: <em>http://<storage account name>.vo.msecnd.net/{container}/{blob}</em>.</p>
<p>S√≥ relembrando: quanto mais um item for din√¢mico, menos prov√°vel que ele seja um bom candidato para usar CDN, por causa do cache.</p>
<h2>Windows Azure Caching</h2>
<p>Cacheamento no n√≠vel do Windows Azure √© bem diferente do que temos em n√≠vel de aplica√ß√£o, como <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-2-implement-caching/" target="_blank">nesse objetivo</a>. Esse cacheamento √© <em>role-based</em>, ou seja, dispon√≠vel em qualquer role no Windows Azure.</p>
<p>H√° dois mecanismos: <em>dedicated topology</em> e <em>co-located topology</em>. Em uma dedicated topology, voc√™ define uma role que ser√° especificamente designada para lidar com cache, por exemplo, toda a mem√≥ria de uma Worker Role. Em um cen√°rio de co-located topology, apenas parte dos recursos podem ser utilizado para cache. Caso voc√™ tenha 4 Worker Roles, por exemplo, pode usar 25% de cada para lidar com cache.</p>
<p>Existe tamb√©m um servi√ßo opcional chamado Windows Azure Shared Caching. Diferente dos anteriores, ele existe em n√≠vel de servi√ßo, e n√£o de role.</p>
<h2>Lidando Com Exce√ß√µes Usando Retries (SQL Database)</h2>
<p>SQL Database, sendo um banco de dados na nuvem, tem v√°rios benef√≠cios como escalabilidade e facilidade de configura√ß√£o. Uma desvantagem √© que, com a dist√¢ncia f√≠sica entre o servidor de aplica√ß√£o e o de banco de dados, a lat√™ncia aumenta, podendo causar timeouts na conex√£o com o banco. Como esse erro √© tempor√°rio, faz sentido ter uma l√≥gica de retentativa (retry) nas conex√µes com o banco de dados.</p>
<p>O Azure oferece um framework para implementa√ß√£o de l√≥gicas de retentativa. Segue um c√≥digo de retentativa em deadlocks e timeouts com ADO.NET:</p>
<p><script src="https://gist.github.com/edneypitta/00283d023902f079210e.js"></script></p>
<p>Isso √© tudo para esse objetivo üôÇ Obrigado pela leitura e fique ligado no post do pr√≥ximo objetivo, <strong><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-5-create-and-implement-wcf-data-services-service/">Create and implement a WCF Data Services service</a></strong>.<br />
At√© l√°!</p>

				<p><a class="btn btn-default read-more" href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-4-implement-data-storage-in-windows-azure/" title="Certifica√ß√£o Microsoft 70-487: Objetivo 1.4 &#8211; Implement data storage in Windows Azure">Leia Mais</a></p>

							</div><!-- .entry-content -->
					</div>
	</div>
</article><!-- #post-## -->

			
				
<article id="post-255" class="post-255 post type-post status-publish format-standard hentry category-certificacao tag-70-487">
	<div class="blog-item-wrap">
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-3-implement-transactions/" title="Certifica√ß√£o Microsoft 70-487: Objetivo 1.3 ‚Äì Implement transactions" >
			 				</a>
		<div class="post-inner-content">
			<header class="entry-header page-header">

				<h1 class="entry-title"><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-3-implement-transactions/" rel="bookmark">Certifica√ß√£o Microsoft 70-487: Objetivo 1.3 ‚Äì Implement transactions</a></h1>

								<div class="entry-meta">
					<span class="posted-on"><i class="fa fa-calendar"></i> <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-3-implement-transactions/" rel="bookmark"><time class="entry-date published" datetime="2016-01-07T22:43:42+00:00">07/01/2016</time><time class="updated" datetime="2016-03-01T16:55:48+00:00">01/03/2016</time></a></span><span class="byline"> <i class="fa fa-user"></i> <span class="author vcard"><a class="url fn n" href="https://edneypitta.github.io/old-blog/author/admin/">Edney Pitta</a></span></span>				<span class="comments-link"><i class="fa fa-comment-o"></i><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-3-implement-transactions/#respond"><span class="dsq-postid" data-dsqidentifier="255 https://edneypitta.github.io/old-blog/?p=255">Deixe um coment√°rio</span></a></span>
				
				
				</div><!-- .entry-meta -->
							</header><!-- .entry-header -->

						<div class="entry-content">

				<p>Ol√° pessoal! Nesse post vou falar sobre o objetivo 1.3 do exame de certifica√ß√£o Microsoft 40-487, Implement transactions. Para acompanhar desde o come√ßo e ver os primeiros posts, <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/" target="_blank">clique aqui</a>.</p>
<p>Para o exame, √© necess√°rio que voc√™ saiba caracter√≠sticas gerais de transa√ß√µes e como implement√°-las com ADO.NET e Entity Framework. Vamos l√°?</p>
<h2>Entendendo Transa√ß√µes</h2>
<p>Basicamente, transa√ß√µes servem para fazer os dados do banco de dados serem consistentes. Elas s√£o necess√°rias em caso de falha no meio de uma execu√ß√£o de comandos, servindo para que <strong>todos </strong>eles sejam revertidos. Por exemplo, ao tentar fazer a inser√ß√£o de uma <em>Account</em> e depois uma <em>AccountDetails</em>, as duas inser√ß√µes devem ser feitas com sucesso para que n√£o haja um registro de AccountDetails sem Account e vice-versa. Entender esse conceito √© fundamental para esse objetivo.</p>
<p>Outro aspecto importante de transa√ß√µes √© se elas s√£o <strong>simples</strong> ou <strong>distribu√≠das</strong>. Essencialmente, uma transa√ß√£o simples envolve apenas um banco de dados, enquanto uma distribu√≠da envolve diversos bancos de dados, provavelmente de aplica√ß√µes diferentes. Uma limita√ß√£o da classe System.Data.SqlClient.SqlTransaction √© que ela s√≥ trabalha com bancos de dados SQL Server.</p>
<p>H√° tamb√©m o conceito de <strong>n√≠vel de isolamento</strong> (<em>isolation level</em>) de uma transa√ß√£o. O enum <em>IsolationLevel</em> serve para controlar o comportamento de lock na execu√ß√£o de um comando. Esse enum existe em dois namespaces (System.Data e System.Transaction), mas ambos fazem a mesma coisa e t√™m os mesmos valores. A diferen√ßa apenas √© que eles trabalham com as classes dos seus respectivos namespaces. O IsolationLevel pode ser mudado durante a execu√ß√£o da transa√ß√£o sem problemas. Vamos ao valores e comportamento deles:</p>
<ul>
<li><strong>Unspecified</strong>: N√£o determinado. O n√≠vel de isolamento ser√° determinado pelo driver do banco de dados.</li>
<li><strong>Chaos</strong>: As altera√ß√µes pendentes de transa√ß√µes mais altamente isoladas n√£o podem ser substitu√≠das. Esse valor n√£o √© suportado no SQL Server ou Oracle, por isso tem uma utiliza√ß√£o bem limitada.</li>
<li><strong>ReadUncommitted</strong>: Nenhum <em>shared lock</em> √© emitido. Isso implica que a leitura pode ser imprecisa, o que geralmente n√£o √© desejado.</li>
<li><strong>ReadCommitted</strong>: Emite shared locks nas leituras. Isso evita leituras imprecisas, mas os dados ainda podem ser mudados antes do fim da execu√ß√£o da transa√ß√£o. Pode resultar em <a href="http://stackoverflow.com/questions/11043712/what-is-difference-between-non-repeatable-read-and-phantom-read" target="_blank"><em>nonrepeatable reads</em> ou <em>phantom data</em></a>.</li>
<li><strong>RepeatableRead</strong>: Locks s√£o colocados em todos os dados usados na query, o que previne quaisquer altera√ß√µes durante a execu√ß√£o da transa√ß√£o. Isso acaba com o problema de nonrepeatable read, mas phantom data ainda pode ocorrer.</li>
<li><strong>Serializable</strong>: Um <em>range lock</em> √© colocado em um espec√≠fico DataSet, o que previne quaisquer inser√ß√µes ou altera√ß√µes at√© que a transa√ß√£o termine. Deve ser usado rapidamente.</li>
<li><strong>Snapshot</strong>: Uma c√≥pia dos dados √© feita, ent√£o uma execu√ß√£o de transa√ß√£o pode ler enquanto outra pode modificar os mesmos dados. N√£o √© poss√≠vel ver os dados de outras execu√ß√µes de transa√ß√µes, mesmo rodando a query novamente. O tamanho disso pode tamb√©m causar problemas se n√£o for usado rapidamente.</li>
</ul>
<h2>Implementando Transa√ß√µes com TransactionScope (System.Transactions)</h2>
<p><em>TransactionScope</em> √© simples e poderoso. Vamos ao c√≥digo e algumas caracter√≠sticas importantes:</p>
<p><script src="https://gist.github.com/edneypitta/4301d7d19b837bdb4c87.js"></script></p>
<ul>
<li>O m√©todo Complete() faz com que todas as altera√ß√µes sejam comitadas. Se n√£o for chamado, todas elas s√£o desfeitas.</li>
<li>Caso alguma Exception seja lan√ßada dentro do bloco using, todas as altera√ß√µes ser√£o desfeitas tamb√©m.</li>
<li>A transa√ß√£o √© promovida de simples para distribu√≠da automaticamente quando a segunda SqlConnection √© aberta.</li>
<li>Mesmo numa transa√ß√£o distribu√≠da, h√° algumas limita√ß√µes √≥bvias. C√≥pias de arquivos e chamadas para web services, por exemplo, n√£o s√£o revertidas (alguns web services podem at√© suportar transa√ß√µes, mas isso n√£o acontece automaticamente). H√° tamb√©m o requerimento de que o banco de dados suporte transa√ß√µes, o que n√£o acontece com todos.</li>
</ul>
<h2>Implementando Transa√ß√µes com EntityTransaction</h2>
<p>Voc√™ pode implementar transa√ß√µes com a classe EntityTransaction para as classes EntityCommand e EntityConnection. Ela tem duas principais propriedades: Connection e IsolationLevel. Tem tamb√©m dois m√©todos importantes e √≥bvios: Commit() e Rollback().</p>
<p>Um ponto n√£o √≥bvio e important√≠ssimo √© que, usando DbContext ou ObjectContext (explicados <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/" target="_blank">aqui</a>), n√£o √© necess√°rio usar a classe EntityTransaction. Em qualquer DbContext.SaveChanges(), por exemplo, o Entity Framework usa uma transa√ß√£o para salvar todas as modifica√ß√µes feitas. Caso aconte√ßa algum erro, uma Exception √© lan√ßada e todas as altera√ß√µes s√£o desfeitas.</p>
<p>Caso queira usar a classe EntityTransaction para explicitamente fazer uma transa√ß√£o, o caminho √© bem simples. Basta criar uma EntityCoonnection, declarar uma Entity Transaction chamando BeginTransaction() e, no final, chamar o m√©todo Commit() ou Rollback(). Segue o c√≥digo:</p>
<p><script src="https://gist.github.com/edneypitta/bb94e2e8539641cd452c.js"></script></p>
<h2>Implementando Transa√ß√µes com SqlTransaction</h2>
<p>O comportamento de uma SqlTransaction √© quase id√™ntico ao de uma EntityTransaction. As mudan√ßas est√£o nos nomes dos objetos e seus tipos.</p>
<p>Voc√™ deve criar uma SqlConnection, chamar o m√©todo BeginTransaction() passando um IsolationLevel e criar um ou mais SqlCommands passando como par√¢metro o CommandText, a SqlConnection e a SqlTransaction. Ao inv√©s de um CommandText, tamb√©m √© poss√≠vel passar o nome de uma Stored Procedure e mudar o tipo do CommandType para StoredProcedure.</p>
<p>Depois de toda a l√≥gica feita, basta chamar o m√©todo Commit() ou Rollback().</p>
<p>Uma √∫ltima dica para o exame: se voc√™ for perguntado qual √© o melhor cen√°rio para aplicar uma transa√ß√£o entre uma query longa que envolve v√°rias tabelas e uma query r√°pida que envolve uma tabela, escolha a √∫ltima op√ß√£o. Embora aparentemente uma query que envolve v√°rias tabelas pare√ßa o ideal, o livro alega que a dura√ß√£o e complexidade geraria colocaria problemas de lock e conten√ß√£o. Ent√£o t√°, n√©?</p>
<p>O pr√≥ximo post ser√° sobre o objetivo 1.4, <strong><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-4-implement-data-storage-in-windows-azure/">Implement data storage in Windows Azure</a></strong>.<br />
At√© l√°!</p>

				<p><a class="btn btn-default read-more" href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-3-implement-transactions/" title="Certifica√ß√£o Microsoft 70-487: Objetivo 1.3 ‚Äì Implement transactions">Leia Mais</a></p>

							</div><!-- .entry-content -->
					</div>
	</div>
</article><!-- #post-## -->

			
				
<article id="post-244" class="post-244 post type-post status-publish format-standard hentry category-certificacao tag-70-487">
	<div class="blog-item-wrap">
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-2-implement-caching/" title="Certifica√ß√£o Microsoft 70-487: Objetivo 1.2 ‚Äì Implement caching" >
			 				</a>
		<div class="post-inner-content">
			<header class="entry-header page-header">

				<h1 class="entry-title"><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-2-implement-caching/" rel="bookmark">Certifica√ß√£o Microsoft 70-487: Objetivo 1.2 ‚Äì Implement caching</a></h1>

								<div class="entry-meta">
					<span class="posted-on"><i class="fa fa-calendar"></i> <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-2-implement-caching/" rel="bookmark"><time class="entry-date published" datetime="2016-01-06T02:45:14+00:00">06/01/2016</time><time class="updated" datetime="2016-03-01T16:55:40+00:00">01/03/2016</time></a></span><span class="byline"> <i class="fa fa-user"></i> <span class="author vcard"><a class="url fn n" href="https://edneypitta.github.io/old-blog/author/admin/">Edney Pitta</a></span></span>				<span class="comments-link"><i class="fa fa-comment-o"></i><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-2-implement-caching/#respond"><span class="dsq-postid" data-dsqidentifier="244 https://edneypitta.github.io/old-blog/?p=244">Deixe um coment√°rio</span></a></span>
				
				
				</div><!-- .entry-meta -->
							</header><!-- .entry-header -->

						<div class="entry-content">

				<p>O objetivo 1.2 do exame 70-487: Developing Microsoft Azure and Web Services, <strong>Implement caching</strong>, trata-se de implementa√ß√µes de cache. Nesse objetivo, √© necess√°rio que voc√™ se familiarize com dois objetos de cache: <em>ObjectCache</em> e o <em>HttpContext.Cache</em>.</p>
<h2>ObjectCache</h2>
<p>O ObjectCache prov√™ a funcionalidade de cache com extrema facilidade. Basta obter a inst√¢ncia dele usando MemoryCache.Default e usar os m√©todos que t√™m nomes amig√°veis como Add, AddOrGetExisting, Get e Set. Pode n√£o ser f√°cil memorizar todos os overloads, mas j√° chegamos l√°. Primeiro d√™ uma olhada num uso simples do ObjectCache:</p>
<p><script src="https://gist.github.com/edneypitta/fa87c7423cb6e330f6e9.js"></script></p>
<p>Note que √© necess√°rio primeiro remover o item do cache antes de chamar o m√©todo Add. Isso ocorre porque internamente o m√©todo Add usa o m√©todo AddOrGetExisting, ent√£o ele n√£o substitui o valor anterior. Para obter um valor, voc√™ pode usar o m√©todo Get ou chamar diretamente o indexador (<em>cache[key]</em>).</p>
<p>Vamos √†s diferentes formas de adicionar um item no cache:</p>
<ul>
<li>Add(CacheItem, CacheItemPolicy)</li>
<li>Add(String key, Object value, DateTimeOffset absoluteExpiration)</li>
<li>Add(String key, Object value, CacheItemPolicy policy, String regionName)</li>
<li>AddOrGetExisting(CacheItem, CacheItemPolicy)</li>
<li>AddOrGetExisting(String key, Object value, DateTimeOffset absoluteExpiration)</li>
<li>AddOrGetExisting(String key, Object value, CacheItemPolicy policy, String regionName)</li>
<li>Set(CacheItem, CacheItemPolicy)</li>
<li>Set(String key, Object value, CacheItemPolicy policy, String regionName)</li>
</ul>
<p>Embora numerosos, esses overloads s√£o bem parecidos. Certifique-se de memoriz√°-los. </p>
<p>O efeito de todos eles √© bem parecido. A principal diferen√ßa √© que o m√©todo Add, por internamente usar o m√©todo AddOrGetExisting, retorna um bool indicando se o item foi inserido no cache ou se ele j√° existia. J√° o m√©todo Set n√£o tem retorno e atualiza o valor se o item j√° estiver no cache.</p>
<p>O objeto <em>CacheItem</em> tem tr√™s propriedades: Key, Value e RegionName. </p>
<p>No objeto <em>CacheItemPolicy</em>, voc√™ pode setar a pol√≠tica de expira√ß√£o usando a propriedade <strong>AbsoluteExpiration </strong>ou a <strong>SlidingExpiration</strong>. A diferen√ßa entre as duas √© que, com AbsoluteExpiration, voc√™ determina exatamente a data em que o item vai ser removido do cache. J√° com SlidingExpiration, o item √© removido do cache se n√£o for utilizado ap√≥s o tempo (TimeSpan) determinado.</p>
<p>Ainda no CacheItemPolicy, voc√™ pode configurar tamb√©m a propriedade Priority com o enum <em>CacheItemPriority</em>. No System.Runtime.Caching (ObjectCache), ele tem dois poss√≠veis valores: <strong>Default </strong>(que √© o marcado por padr√£o) e <strong>NotRemovable</strong>. A propriedade Priority funciona assim: quando os recursos de processamento est√£o baixos, o runtime pode limpar algumas coisas da mem√≥ria para melhorar o processamento. Os itens do cache est√£o inclu√≠dos nessa limpeza. Esse √© o comportamento padr√£o, adotado quando a Priority est√° com o valor Default. Os itens do cache adicionados com o valor NotRemovable na propriedade Prority nunca s√£o removidos do cache pelo runtime. Isso √© perigoso pois a aplica√ß√£o pode <em>crashar</em> devido √† falta de mem√≥ria.</p>
<p>O objeto CacheItemPolicy conta ainda com uma lista de <em>ChangeMonitor</em>. Esse objeto, como o nome sugere, lida com mudan√ßas (eventos) que causam atualiza√ß√£o do cache. ChangeMonitor √© uma classe base que tem v√°rias implementa√ß√µes:</p>
<ul>
<li><em>CacheEntryChangeMonitor</em>: serve como base para a constru√ß√£o de classes derivadas que monitoram os CacheItems</li>
<li><em>FileChangeMonitor</em>: monitora um arquivo checando se h√° mudan√ßas para atualizar o cache</li>
<li><em>HostFileChangeMonitor</em>: monitora mudan√ßas em diret√≥rios e caminhos de arquivos, como o nome ou tamanho de um arquivo.</li>
</ul>
<h2>HttpContext.Cache</h2>
<p>O HttpContext.Cache foi criado para ser usado especificamente numa aplica√ß√£o web ASP.NET (fica em System.Web.Caching). Tome cuidado para n√£o confundir os dois no exame. Se alguma quest√£o mencionar o objeto HttpContext.Cache, Page.Cache ou somente Cache, voc√™ <strong>deve</strong> assumir que se trata de uma aplica√ß√£o ASP.NET. Quaisquer outras men√ß√µes √† cache, pode se assumir que se trata do ObjectCache.</p>
<p>O jeito mais simples de adicionar ou atualizar um item no HttpContext.Cache √© assim: <code>Cache["FullNameKey"] = "John Q. Public";</code>. H√° tamb√©m os m√©todos Add e Insert, que cont√™m v√°rias sobrecargas (e infelizmente voc√™ tamb√©m deve memorizar todas elas):</p>
<ul>
<li>Insert(String Key, Object Value)</li>
<li>Insert(String Key, Object Value, CacheDependency dependencyItem)</li>
<li>Insert(String Key, Object Value, CacheDependency dependencyItem, DateTime absoluteExpiration, TimeSpan slidingExpiration)</li>
<li>Insert(String Key, Object Value, CacheDependency dependencyItem, DateTime absoluteExpiration, TimeSpan slidingExpiration, CacheItemUpdateCallback updateCallback)</li>
<li>Insert(String Key, Object Value, CacheDependency dependencyItem, DateTime absoluteExpiration, TimeSpan slidingExpiration, CacheItemPriority priority, CacheItemRemovedCallback removeCallback)</li>
<li>Add(string key, object value, CacheDependency dependencies, DateTime absoluteExpiration, TimeSpan slidingExpiration, CacheItemPriority priority, CacheItemRemovedCallback onRemoveCallback)</li>
</ul>
<p>O m√©todo Add e a √∫ltima forma do m√©todo Insert s√£o virtualmente id√™nticos. A principal diferen√ßa est√° no m√©todo Insert que usa um <em>CacheItemUpdateCallback</em>, ao contr√°rio do m√©todo Add que usa um <em>CacheItemRemovedCallback</em>. Em RemoveCallback √© chamado quando o item √© removido do cache, enquanto UpdateCallback √© invocado <em>um pouco</em> antes do item ser removido do cache. Para a maioria das aplica√ß√µes isso n√£o faz muita diferen√ßa, mas a ideia √© que se voc√™ precisa se certificar que um item nunca seja removido do cache, por exemplo, use UpdateCallback.</p>
<p>Assim como no ObjectCache, temos aqui tamb√©m o enum <em>CacheItemPriority</em>, que funciona da mesma forma. A diferen√ßa √© que aqui h√° mais op√ß√µes de valores, com nomes bem sugestivos: <strong>Low</strong>, <strong>BelowNormal</strong>, <strong>Normal</strong>, <strong>AboveNormal</strong>, <strong>High</strong>, <strong>NotRemovable </strong>e <strong>Default</strong>. O valor padr√£o √© Normal, que funciona da mesma forma que Default.</p>
<p>Para finalizar, h√° o par√¢metro <em>CacheDependency</em>, que lida com cache de arquivos (como o HostFileChangeMonitor). Voc√™ pode passar tamb√©m um objeto bem importante, o <em>SqlCacheDependency</em>. Ele tem dois construtores: um que aceita um SqlCommand e outro que aceita duas strings, a primeira sendo o nome do banco definido no web.config e a segunda √© o nome da tabela que o cache ser√° associado. H√° muitos requisitos para se usar SqlCacheDependency, e alguns cuidados devem ser tomados.<br />
Para o primeiro construtor, o banco de dados deve ser SQL Server 2005 ou superior. Dentro do SqlCommand, as tabelas devem ser referenciadas com o owner (<em>dbo.Customer</em>, por exemplo). <em>SELECT *</em> √© proibido e a p√°gina n√£o pode ter output caching.<br />
O segundo √© ainda mais complicado. Deve haver uma connection string no web.config da aplica√ß√£o (obviamente). O banco de dados e a tabela devem ter notifica√ß√µes habilitadas no SQL Server e n√£o √© poss√≠vel associar o cache com mais de uma tabela.</p>
<p>E <strong>√© isso</strong>. O conte√∫do desse objetivo foi bem simples, apesar de ser dif√≠cil decorar todos os overloads dos m√©todos de inser√ß√£o.</p>
<p>Nos vemos no post do pr√≥ximo objetivo, <strong><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-3-implement-transactions/">Implement transactions</a></strong>.<br />
At√© mais!</p>

				<p><a class="btn btn-default read-more" href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-2-implement-caching/" title="Certifica√ß√£o Microsoft 70-487: Objetivo 1.2 ‚Äì Implement caching">Leia Mais</a></p>

							</div><!-- .entry-content -->
					</div>
	</div>
</article><!-- #post-## -->

			
				
<article id="post-235" class="post-235 post type-post status-publish format-standard hentry category-certificacao tag-70-487">
	<div class="blog-item-wrap">
				<a href="https://edneypitta.github.io/old-blog/certificao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-3-wcf-data-services/" title="Certifica&ccedil;&atilde;o Microsoft 70-487: Objetivo 1.1 &ndash; Choose data access technologies (Parte 3, WCF Data Services)" >
			 				</a>
		<div class="post-inner-content">
			<header class="entry-header page-header">

				<h1 class="entry-title"><a href="https://edneypitta.github.io/old-blog/certificao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-3-wcf-data-services/" rel="bookmark">Certifica&ccedil;&atilde;o Microsoft 70-487: Objetivo 1.1 &ndash; Choose data access technologies (Parte 3, WCF Data Services)</a></h1>

								<div class="entry-meta">
					<span class="posted-on"><i class="fa fa-calendar"></i> <a href="https://edneypitta.github.io/old-blog/certificao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-3-wcf-data-services/" rel="bookmark"><time class="entry-date published" datetime="2015-12-16T09:45:05+00:00">16/12/2015</time><time class="updated" datetime="2016-03-01T16:55:32+00:00">01/03/2016</time></a></span><span class="byline"> <i class="fa fa-user"></i> <span class="author vcard"><a class="url fn n" href="https://edneypitta.github.io/old-blog/author/admin/">Edney Pitta</a></span></span>				<span class="comments-link"><i class="fa fa-comment-o"></i><a href="https://edneypitta.github.io/old-blog/certificao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-3-wcf-data-services/#respond"><span class="dsq-postid" data-dsqidentifier="235 https://edneypitta.github.io/old-blog/?p=235">Deixe um coment√°rio</span></a></span>
				
				
				</div><!-- .entry-meta -->
							</header><!-- .entry-header -->

						<div class="entry-content">

				<blockquote><p>EDIT: Essa √© a parte 3 de tr√™s posts sobre o objetivo 1.1. Voc√™ pode conferir a parte 1 <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies/">aqui </a>(ADO.NET) e a parte 2 <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/">aqui </a>(Entity Framework).</p></blockquote>
<p>Esse √© o √∫ltimo post sobre o objetivo 1.1 da certifica√ß√£o Microsoft 70-487. Vou falar sobre a terceira op√ß√£o de acesso √† dados que contempla o primeiro objetivo, o WCF Data Services. As outras duas op√ß√µes, ADO.NET e Entity Framework, voc√™ pode ver <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies/" target="_blank">aqui</a> e <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/" target="_blank">aqui</a>.</p>
<h2>WCF Data Services</h2>
<p>WCF Data Services, antes chamado ADO.NET Data Services, √© um servi√ßo da Microsoft acoplado ao Entity Framework que permite expor seus dados na web via HTTP utilizando tecnologias como OData, REST e JSON.</p>
<p>Para criar um WCF Data Services, os seguintes passos s√£o necess√°rios:</p>
<ul>
<li>Criar uma aplica√ß√£o web ASP.NET;</li>
<li>Usar o Entity Framework para criar um EDM;</li>
<li>Adicionar um Data Service na aplica√ß√£o;</li>
<li>Habilitar acesso ao servi√ßo.</li>
</ul>
<h4></h4>
<p>Com o WCF Data Services criado, o consumo desses dados pode ser feito simplesmente chamando URLs num browser. Por exemplo, para obter todos os <em>Customers</em> do seu banco de dados, basta acessar a URL <em>http://my company uri/MyApplication/MyService.svc/Customers</em>. Para retornar todos os Customers com o LastName ‚ÄòDoe‚Äô, a URL fica <em>http://my company uri/MyApplication/ MyService.svc/Customers(‚ÄòDoe‚Äô)</em>.</p>
<p>Mais detalhes desses filtros na URL ser√£o cobertos em outros objetivos.</p>
<h2>Resumo Do Objetivo 1.1</h2>
<p>Como o conte√∫do sobre WCF Data Services √© pequeno, vou aproveitar para colocar aqui o resumo do objetivo 1.1 do exame, Choose data access technologies. Lembrando que o resumo contempla as tr√™s op√ß√µes de acesso √† dados: ADO.NET, Entity Framework e WCF Data Services.</p>
<ul>
<li><strong>ADO.NET</strong> √© a mais antiga das tr√™s op√ß√µes e tem v√°rias vantagens. N√£o requer conex√£o cont√≠nua com o banco de dados, √© poss√≠vel fazer conex√£o com qualquer banco de dados e possui objetos espec√≠ficos para consumir os dados (DataSet e DataTable);</li>
<li>Com <strong>Entity Framework</strong>, √© poss√≠vel que os desenvolvedores foquem no c√≥digo da aplica√ß√£o, e n√£o no banco de dados utilizado. Voc√™ pode criar seu modelo baseado num banco de dados existente ou contruir o banco de dados a partir de um modelo conceitual;</li>
<li><strong>WCF Data Services</strong> permite que voc√™ exponha seus dados na web. O consumo dos dados, por ser via HTTP, n√£o √© atrelhado a nenhuma tecnologia. WCF Data Services √© usado com Entity Framework no back end e prov√™ um jeito f√°cil de construir e consumir um servi√ßo na web.</li>
</ul>
<p>E chegamos ao fim do objetivo 1.1 <img class="wlEmoticon wlEmoticon-smile" style="" alt="Smile" src="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/12/wlEmoticon-smile.png"> Por ser mais longo, tive que dividir o tema em tr√™s partes, mas a ideia √© que os pr√≥ximos objetivos sejam cobertos em um s√≥ post.</p>
<p>Fique ligado no pr√≥ximo objetivo, que ser√° <strong><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-2-implement-caching/">Implement caching</a></strong>. At√© mais!</p>

				<p><a class="btn btn-default read-more" href="https://edneypitta.github.io/old-blog/certificao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-3-wcf-data-services/" title="Certifica&ccedil;&atilde;o Microsoft 70-487: Objetivo 1.1 &ndash; Choose data access technologies (Parte 3, WCF Data Services)">Leia Mais</a></p>

							</div><!-- .entry-content -->
					</div>
	</div>
</article><!-- #post-## -->

			
				
<article id="post-219" class="post-219 post type-post status-publish format-standard hentry category-certificacao tag-70-487">
	<div class="blog-item-wrap">
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/" title="Certifica√ß√£o Microsoft 70-487: Objetivo 1.1 &#8211; Choose data access technologies (Parte 2, Entity Framework)" >
			 				</a>
		<div class="post-inner-content">
			<header class="entry-header page-header">

				<h1 class="entry-title"><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/" rel="bookmark">Certifica√ß√£o Microsoft 70-487: Objetivo 1.1 &#8211; Choose data access technologies (Parte 2, Entity Framework)</a></h1>

								<div class="entry-meta">
					<span class="posted-on"><i class="fa fa-calendar"></i> <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/" rel="bookmark"><time class="entry-date published" datetime="2015-12-15T13:20:49+00:00">15/12/2015</time><time class="updated" datetime="2016-03-01T16:55:25+00:00">01/03/2016</time></a></span><span class="byline"> <i class="fa fa-user"></i> <span class="author vcard"><a class="url fn n" href="https://edneypitta.github.io/old-blog/author/admin/">Edney Pitta</a></span></span>				<span class="comments-link"><i class="fa fa-comment-o"></i><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/#respond"><span class="dsq-postid" data-dsqidentifier="219 https://edneypitta.github.io/old-blog/?p=219">Deixe um coment√°rio</span></a></span>
				
				
				</div><!-- .entry-meta -->
							</header><!-- .entry-header -->

						<div class="entry-content">

				<blockquote><p>EDIT: Essa √© a parte 2 de tr√™s posts sobre o objetivo 1.1. Voc√™ pode conferir a parte 1 <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies/">aqui </a>(ADO.NET) e a parte 3 <a href="https://edneypitta.github.io/old-blog/certificao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-3-wcf-data-services/">aqui </a>(WCF Data Services).</p></blockquote>
<p>Nesse post vou falar do Entity Framework, a segunda op√ß√£o de acesso √† dados que estar√° no exame da certifica√ß√£o Microsoft 70-487 dentro do objetivo 1.1, <em>Choose data access technologies</em>. A primeira parte, sobre ADO.NET, est√° <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies/" target="_blank">nesse post</a>.</p>
<h2>Entity Framework</h2>
<p>O EF foi criado para permitir que os desenvolvedores focassem no c√≥digo da aplica√ß√£o, n√£o no c√≥digo necess√°rio para se comunicar com o banco de dados. Essa necessidade surgiu devido √†s diferen√ßas estruturais entre a programa√ß√£o orientada a objeto e o modelo relacional dos bancos de dados.</p>
<p>Para o exame, √© necess√°rio conhecer a estrutura do EF. O model¬†do Entity Framework √© dividido em tr√™s partes: o <strong>CSDL</strong> (<i>conceptual schema definition language</i>), que contempla o modelo conceitual, o <strong>SSDL</strong> (<i>store schema definition language</i>), que trata dos aspectos da estrutura do banco de dados, e o que mapeia as duas partes √© chamado de <strong>MSL</strong> (<i>mapping specification language</i>). As tr√™s partes ficam em um √∫nico arquivo com a extens√£o <i>.edmx</i>.</p>
<p>H√° dois modos de criar seu modelo conceitual no EF, chamado de <em>Entity Data Model</em> (EDM): <em>Database First</em>, onde voc√™ cria seu banco de dados e depois cria seu modelo conceitual, e <em>Model First</em>, onde voc√™ primeiro constr√≥i o modelo conceitual e permite que as ferramentas do EF criem a estrutura do banco de dados para voc√™.</p>
<p>Quatro ferramentas est√£o dispon√≠veis para voc√™ criar e modificar seu EDM. S√£o elas:</p>
<ul>
<li><em>Entity Model Designer</em>, item que cria o arquivo .edmx e permite que voc√™ manipule quase todos os aspectos do model (criar, atualizar e deletar entidades, criar associa√ß√µes, etc.);</li>
<li><em>Entity Data Model Wizard</em>, que √© o ponto de partida para a cria√ß√£o do seu EDM no modelo Database First;</li>
<li><em>Create Database Wizard</em> √© o contr√°rio do item anterior; essa ferramenta permite que voc√™ crie primeiro todo o seu modelo conceitual e depois gera o banco de dados necess√°rio (Model First);</li>
<li>E <em>Update Model Wizard</em>, que permite modifica√ß√µes no EDM ap√≥s o modelo estar criado.</li>
</ul>
<p>Nota <strong>important√≠ssima</strong>: no exame (e no Visual Studio), o Entity Framework pode ser chamado de ADO.NET Entity Data Model, ou ADO.NET EF. N√£o se confunda com essa nomeclatura! Ambos est√£o citando apenas o Entity Framework.</p>
<p>Veja o c√≥digo para acessar o banco de dados com o EF. Mais detalhes sobre a API do EF ser√£o cobertos no cap√≠tulo 2, que √© todo dedicado ao Entity Framework.</p>
<p><script src="https://gist.github.com/edneypitta/02d6eee890b56447648e.js"></script><script src="https://gist.github.com/edneypitta/2b6346d4bce79656b0e8.js"></script><br />
<script src="https://gist.github.com/edneypitta/e3b5138fbca05abbf476.js"></script>O EF consegue mapear heran√ßas de duas principais formas: <em>Table per Hierarchy¬†</em>(TPH) e <em>Table per Type</em> (TPT). No TPH, ele cria somente uma tabela que cont√©m todos os derivados de uma heran√ßa (criando colunas <em>nullable</em>¬†e uma coluna para indicar o tipo). J√° no TPT, para cada filho, uma tabela √© criada referenciando o pai com um ID. No EF √© poss√≠vel tamb√©m criar Tipos Complexos (<em>Complex Types</em>). Numa tabela que tem as colunas DataInicio e DataFim, por exemplo, voc√™ pode identificar essas colunas como um tipo complexo e elas se tornar√£o uma entidade DataRange no seu modelo conceitual. </p>
<h4>ObjectContext</h4>
<p>No c√≥digo acima, e nas vers√µes novas do Entity Framework, voc√™ geralmente trabalhar√° com o DbContext (a classe TestEntities). Mas no exame outro (antigo, velho e sujo) modo de usar o EF ser√° cobrado: o ObjectContext. Veja como ele pode ser utilizado abaixo:<script src="https://gist.github.com/edneypitta/236a0727aadf6f4225ca.js"></script></p>
<p>O contexto da classe ObjectContext tem uma propriedade chamada ContextOptions que cont√©m 5 propriedades que voc√™ pode manipular. S√£o elas:</p>
<ul>
<li><strong>LazyLoadingEnabled</strong>. Marcada por padr√£o, essa propriedade controla se as entidades ser√£o carregadas por demanda ou n√£o. O EF faz o Lazy Loading pelas <em>Navigation Properties</em>. Por exemplo, ao carregar um <em>Customer</em>, suas <em>Transactions</em> n√£o s√£o carregadas. Ao iterar pela propriedade Transactions (uma Navigation Property), para cada Transaction na lista, um hit no banco √© feito para obter os dados com o LazyLoadingEnabled setado true. Caso seja false, voc√™ precisa explicitamente carregar esses dados com o m√©todo LoadProperty() ou Include();</li>
<li><strong>ProxyCreationEnabled</strong> determina se classes POCO (plain on commom object) devem ser criadas para dados customizados. Detalhes ser√£o cobertos no cap√≠tulo 2 do livro;</li>
<li><strong>UseConsistentNullReferenceBehavior</strong>¬†funciona da seguinte forma: caso seja true e voc√™ sete uma Navigation Property que n√£o esteja carregada como null, ao salvar, o EF tentar√° persistir isso no banco de dados (o que gerar√° um erro se a coluna n√£o for nullable);</li>
<li><strong>UseCSharpNullComparisonBehavior</strong> muda o jeito que as compara√ß√µes com null s√£o feitas no banco de dados. Veja a diferen√ßa:<br />
<script src="https://gist.github.com/edneypitta/e934a4969a45c7bcb51e.js"></script><br />
Nesse caso, as seguintes queries ser√£o feitas no banco de dados:<br />
SELECT COUNT(*) FROM Account WHERE AccountAlias <> &#8216;Home&#8217; &#8212; Disabled<br />
SELECT COUNT(*) FROM Account WHERE AccountAlias <> &#8216;Home&#8217; OR AccountAlias IS NULL &#8212;¬†Enabled
</li>
<li>Por √∫ltimo,¬†<strong>UseLegacyPreserveChangesBehavior</strong> controle o que acontece quando uma entidade j√° existe no contexto e √© attachada novamente. Por padr√£o, o EF compara as duas entidades e, se alguma propriedade tiver valor diferente, o estado dessa propriedade vira Modified. Com o¬†UseLegacyPreserveChangesBehavior, o valores diferentes n√£o s√£o copiados.</li>
</ul>
<p>Voc√™ precisa se familiarizar tamb√©m com as classes geradas pelo ObjectContext, assim como as geradas pelo DbContext (j√° mostradas acima). Cada entidade do modelo conceitual tem uma classe que herda de <em>EntityObject</em>. Essas classes s√£o decoradas com tr√™s atributos:</p>
<ul>
<li><em>EdmEntityTypeAttribute</em> indica que a classe faz parte de um EDM. Cont√©m o namespace e o name da entidade;</li>
<li><em>SerializableAttribute</em>. As classes geradas pelo EF precisam ser serializ√°veis;</li>
<li><em>DataContractAttribute</em> √© necess√°rio para se trabalhar com WCF (mais detalhes no objetivo 1.5).</li>
</ul>
<p>As propriedades s√£o decoradas com dois atributos: <em>DataMemberAttribute</em>, para fins de WCF, e¬†<em>EdmScalarPropertyAttribute</em>, que seta duas propriedades (<em>EntityKeyProperty</em> e <em>IsNullable</em>). O c√≥digo da classe fica assim:</p>
<p><script src="https://gist.github.com/edneypitta/281ee3e62fca7fd137d4.js"></script></p>
<h4>Por Que Entity Framework?</h4>
<ul>
<li>Com as ferramentas se desenvolvendo cada vez mais, atualizar o¬†modelo √© muito menos trabalhoso do que com ADO.NET;</li>
<li>¬†Voc√™ pode focar na l√≥gica do neg√≥cio da aplica√ß√£o, e n√£o com o armazenamento dos dados;</li>
<li>Atualmente, o EF permite a desacopla√ß√£o entre o modelo conceitual e o armazenamento dos dados;</li>
<li>O banco de dados pode ser mudado sem ter a necessidade de reescrever todo o c√≥digo da aplica√ß√£o;</li>
<li>O EF foi pensado para trabalhar em conjunto com WCF.</li>
</ul>
<p>O pr√≥ximo post ser√° sobre o √∫ltimo ponto do objetivo 1.1 da certifica√ß√£o, que √© sobre o <strong><a href="https://edneypitta.github.io/old-blog/certificao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-3-wcf-data-services/">WCF Data Services</a></strong>.</p>
<p>At√© mais!</p>

				<p><a class="btn btn-default read-more" href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/" title="Certifica√ß√£o Microsoft 70-487: Objetivo 1.1 &#8211; Choose data access technologies (Parte 2, Entity Framework)">Leia Mais</a></p>

							</div><!-- .entry-content -->
					</div>
	</div>
</article><!-- #post-## -->

			
				
<article id="post-207" class="post-207 post type-post status-publish format-standard hentry category-certificacao tag-70-487">
	<div class="blog-item-wrap">
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies/" title="Certifica√ß√£o Microsoft 70-487: Objetivo 1.1 &#8211; Choose data access technologies (Parte 1, ADO.NET)" >
			 				</a>
		<div class="post-inner-content">
			<header class="entry-header page-header">

				<h1 class="entry-title"><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies/" rel="bookmark">Certifica√ß√£o Microsoft 70-487: Objetivo 1.1 &#8211; Choose data access technologies (Parte 1, ADO.NET)</a></h1>

								<div class="entry-meta">
					<span class="posted-on"><i class="fa fa-calendar"></i> <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies/" rel="bookmark"><time class="entry-date published" datetime="2015-12-11T07:11:57+00:00">11/12/2015</time><time class="updated" datetime="2016-03-01T16:54:25+00:00">01/03/2016</time></a></span><span class="byline"> <i class="fa fa-user"></i> <span class="author vcard"><a class="url fn n" href="https://edneypitta.github.io/old-blog/author/admin/">Edney Pitta</a></span></span>				<span class="comments-link"><i class="fa fa-comment-o"></i><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies/#comments"><span class="dsq-postid" data-dsqidentifier="207 https://edneypitta.github.io/old-blog/?p=207">1 Coment√°rio</span></a></span>
				
				
				</div><!-- .entry-meta -->
							</header><!-- .entry-header -->

						<div class="entry-content">

				<blockquote><p>EDIT: Essa √© a parte 1 de tr√™s posts sobre o objetivo 1.1. Voc√™ pode conferir a parte 2 <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/">aqui </a>(Entity Framework) e a parte 3 <a href="https://edneypitta.github.io/old-blog/certificao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-3-wcf-data-services/">aqui </a>(WCF Data Services).</p></blockquote>
<p>O primeiro t√≥pico da certifica√ß√£o Microsoft 70-487 √© <em>Accessing data</em>. Voc√™ pode conferir todos os t√≥picos e seus objetivos <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/" target="_blank">aqui</a>.</p>
<p>Vamos falar do primeiro objetivo, <em>Choose data access technologies</em>, que se trata de como escolher uma tecnologia de acesso a banco de dados baseado nos requisitos da aplica√ß√£o.</p>
<p>As tr√™s op√ß√µes que ser√£o cobradas no exame s√£o:</p>
<ul>
<li>ADO.NET</li>
<li><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/" target="_blank">Entity Framework</a></li>
<li><a href="https://edneypitta.github.io/old-blog/certificao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-3-wcf-data-services/" target="_blank">WCF Data Services</a></li>
</ul>
<p>Farei um post para cada uma das op√ß√µes, pois esse primeiro objetivo √© bem extenso.</p>
<h2>ADO.NET</h2>
<p>ADO.NET √© a tecnologia mais antiga das tr√™s e, portanto, considerada a mais madura e perform√°tica.</p>
<p>A primeira caracter√≠stica abordada no livro √© a de que ADO.NET usa um modelo desconectado quanto a conex√µes no banco de dados. Ou seja, a cada comando (INSERT, UPDATE ou DELETE) ou query (SELECT), uma conex√£o √© aberta e imediatamente fechada ap√≥s o uso. Isso √© uma vantagem pois evita todos os erros provenientes de se manter longas conex√µes abertas com o banco de dados, como processamento, rede e limite de conex√µes abertas ao mesmo tempo.</p>
<p>Outro ponto positivo √© que ADO.NET √© compat√≠vel com v√°rios sistemas de banco de dados. No pacote System.Data, h√° classes espec√≠ficas para alguns deles, como System.Data.SqlClient e System.Data.OracleClient, e tamb√©m gen√©ricas como System.Data.OleDb ou System.Data.Odbc.</p>
<h4>Arquitetura</h4>
<p>O .NET framework, no pacote System.Data, oferece v√°rias classes apelidadas &#8220;data providers&#8221; que s√£o designadas para lidar com as quest√µes b√°sicas de banco de dados, como fazer uma conex√£o, executar um comando e trabalhar com os dados que vieram do banco. </p>
<p>Nesse momento, o livro foca na diferen√ßa entre duas classes para obter dados: <strong>DataSet</strong> (ou DataAdapter) e <strong>DataReader</strong>. Note a diferen√ßa entre como as duas funcionam:</p>
<p><script src="https://gist.github.com/edneypitta/a7a49dcdd2f9c7290d4d.js"></script></p>
<p><script src="https://gist.github.com/edneypitta/de249f67aa31afe42775.js"></script></p>
<p>As principais vantagens do DataReader s√£o:</p>
<ul>
<li>Como internamente um DataAdapter usa um DataReader, o √∫ltimo tem melhor performance;</li>
<li>DataReader possui m√©todos ass√≠ncronos (BeginExecuteNonQuery, BeginExecuteReader, BeginExecuteXmlReader), enquanto DataAdapter n√£o;</li>
<li>O m√©todo Fill de um DataAdapter, conforme mostrado acima, s√≥ popula DataSets e DataTables. Com DataReaders, trabalhar com objetos de neg√≥cio √© mais f√°cil.</li>
</ul>
<p>J√° as vantagens do DataAdapter s√£o:</p>
<ul>
<li>√â poss√≠vel mapear os relacionamentos do banco de dados usando a propriedade Relations;</li>
<li>O m√©todo Fill l√™ todos os registros do comando de uma vez, quando no DataReader voc√™ deve iterar por todos os registros manualmente (<em>while (reader.Read()) &#8230;</em>);</li>
<li>DataSets s√£o serializ√°veis. Eles podem ser carregados ou persistidos de um XML, por exemplo. Podem tamb√©m ser salvos na Session ou em um ViewState (voc√™ n√£o vai querer fazer isso).</li>
</ul>
<h4>Por Que ADO.NET?</h4>
<p>No exame, muitas perguntas s√£o do tipo &#8220;dada uma situa√ß√£o, escolha as tecnologias que seriam as mais apropriadas&#8221;. √Äs vezes √© dif√≠cil identificar, mas o livro √© bem focado e j√° apresenta as informa√ß√µes dessa forma. Vamos √†s vantagens de se utilizar ADO.NET:</p>
<ul>
<li>Consist√™ncia: ADO.NET √© a mais antiga e est√°vel das op√ß√µes dispon√≠veis. Foi muito utilizada e testada.</li>
<li>Estabilidade em termos de evolu√ß√£o e qualidade. ADO.NET est√° bem estabelecida e √© pouco prov√°vel que mude ou tenha novas features.</li>
<li>ADO.NET √© f√°cil de entender. Sabendo o conceito de como funciona, n√£o h√° muitos segredos. Por existir h√° muito tempo, h√° providers para quase todos os tipos de bancos de dados e uma documenta√ß√£o bem abrangente.</li>
<li>√â poss√≠vel utilizar ADO.NET com Azure SQL sem problema algum.</li>
</ul>
<p>Fique ligado no pr√≥ximo post, que ser√° sobre a segunda op√ß√£o de tecnologia para acesso √† banco de dados: o <strong><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies-parte-2-entity-framework/">Entity Framework</a></strong>.</p>
<p>At√© mais!</p>

				<p><a class="btn btn-default read-more" href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-1-choose-data-access-technologies/" title="Certifica√ß√£o Microsoft 70-487: Objetivo 1.1 &#8211; Choose data access technologies (Parte 1, ADO.NET)">Leia Mais</a></p>

							</div><!-- .entry-content -->
					</div>
	</div>
</article><!-- #post-## -->

			
				
<article id="post-199" class="post-199 post type-post status-publish format-standard hentry category-carreira category-certificacao tag-70-487">
	<div class="blog-item-wrap">
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/" title="Certifica√ß√£o Microsoft 70-487: Developing Microsoft Azure and Web Services" >
			 				</a>
		<div class="post-inner-content">
			<header class="entry-header page-header">

				<h1 class="entry-title"><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/" rel="bookmark">Certifica√ß√£o Microsoft 70-487: Developing Microsoft Azure and Web Services</a></h1>

								<div class="entry-meta">
					<span class="posted-on"><i class="fa fa-calendar"></i> <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/" rel="bookmark"><time class="entry-date published" datetime="2015-11-28T15:36:11+00:00">28/11/2015</time><time class="updated" datetime="2016-03-09T17:34:28+00:00">09/03/2016</time></a></span><span class="byline"> <i class="fa fa-user"></i> <span class="author vcard"><a class="url fn n" href="https://edneypitta.github.io/old-blog/author/admin/">Edney Pitta</a></span></span>				<span class="comments-link"><i class="fa fa-comment-o"></i><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/#comments"><span class="dsq-postid" data-dsqidentifier="199 https://edneypitta.github.io/old-blog/?p=199">13 Coment√°rios</span></a></span>
				
				
				</div><!-- .entry-meta -->
							</header><!-- .entry-header -->

						<div class="entry-content">

				<blockquote><p>EDIT: Completei as postagens sobre cada objetivo do exame. Os links est√£o <a href="#topicos">aqui</a>.</p></blockquote>
<p>Ol√° pessoal!</p>
<p>Devido a um desejo pessoal e necessidade na <a href="https://edneypitta.github.io/old-blog/novo-desafio-lambda3/" target="_blank">Lambda3</a>, recentemente tracei um objetivo para a minha carreira de me tornar MCSD em Web Applications. </p>
<p>Para obter essa certifica√ß√£o da Microsoft, √© necess√°rio ser aprovado em tr√™s exames:</p>
<ul>
<li>70-480: Programming in HTML5 with JavaScript and CSS3</li>
<li>70-486: Developing ASP.NET MVC Web Applications</li>
<li>70-487: Developing Microsoft Azure and Web Services</li>
</ul>
<p>Decidi come√ßar pela certifica√ß√£o <strong>Microsoft 70-487: Developing Microsoft Azure and Web Services</strong>, que √© considerada a mais dif√≠cil das tr√™s. Passando nesse exame, acredito que eu fique mais motivado para fazer os outros dois e as coisas fluam melhor.</p>
<h2>Como Vou Passar No Exame</h2>
<p>A primeira coisa que eu fiz foi pesquisar rapidamente na internet sobre a prova para achar quais pontos ser√£o abordados no exame, onde posso achar conte√∫do para estudar e relatos de pessoas que passaram no teste. <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/#more-199" class="more-link"><span aria-label="Continue lendo Certifica√ß√£o Microsoft 70-487: Developing Microsoft Azure and Web Services">(mais&hellip;)</span></a></p>

				<p><a class="btn btn-default read-more" href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/" title="Certifica√ß√£o Microsoft 70-487: Developing Microsoft Azure and Web Services">Leia Mais</a></p>

							</div><!-- .entry-content -->
					</div>
	</div>
</article><!-- #post-## -->

			
				<nav class="navigation paging-navigation" role="navigation">
		<h1 class="screen-reader-text">Navega√ß√£o de Posts</h1>
		<div class="nav-links">

			
						<div class="nav-next"><a href="https://edneypitta.github.io/old-blog/category/certificacao/page/3/" >Pr√≥ximos <i class="fa fa-chevron-right"></i></a> </div>
			
		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
		
		</main><!-- #main -->
	</section><!-- #primary -->

</div>
	<div id="secondary" class="widget-area col-sm-12 col-md-4" role="complementary">
		<div class="well">
						<aside id="text-3" class="widget widget_text">			<div class="textwidget"><a href="https://edneypitta.github.io/old-blog/sobre/"><img src="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/IMG-20150829-WA00012-e1440915174271-150x150.jpg"  width="150" height="150" class="aligncenter size-thumbnail wp-image-93" style="border-radius: 80px;" />
<h2 style="text-align:center;">Edney Pitta</h2></a>
<div style="text-align: center;">Desenvolvedor de Software @ Lambda3</div>
<div style="margin-top:20px;text-align:center;"><a href="https://edneypitta.github.io/old-blog/sobre/"><button class="btn btn-danger btn-lg " >SOBRE MIM</button></a></div></div>
		</aside><aside id="search-2" class="widget widget_search">
<form role="search" method="get" class="form-search" action="https://edneypitta.github.io/old-blog/">
  <div class="input-group">
  	<label class="screen-reader-text" for="s">Search for:</label>
    <input type="text" class="form-control search-query" placeholder="Procurar&hellip;" value="" name="s" title="Search for:" />
    <span class="input-group-btn">
      <button type="submit" class="btn btn-default" name="submit" id="searchsubmit" value="Search"><span class="glyphicon glyphicon-search"></span></button>
    </span>
  </div>
</form></aside>		<aside id="recent-posts-3" class="widget widget_recent_entries">		<h3 class="widget-title">Posts recentes</h3>		<ul>
					<li>
				<a href="https://edneypitta.github.io/old-blog/migrando-um-projeto-asp-net-core-rc-1-para-rc-2/">Migrando um projeto ASP.NET Core RC 1 para RC 2</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-486-developing-asp-net-mvc-web-applications/">Certifica√ß√£o Microsoft 70-486: Developing ASP.NET MVC Web Applications</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-480-programming-in-html5-with-javascript-and-css3/">Certifica√ß√£o Microsoft 70-480: Programming in HTML5 with JavaScript and CSS3</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-resultado/">Certifica√ß√£o Microsoft 70-487 &#8211; Resultado</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-5-6-share-assemblies-between-multiple-applications-and-servers/">Certifica√ß√£o Microsoft 70-487: Objetivo 5.6 ‚Äì Share assemblies between multiple applications and servers</a>
						</li>
				</ul>
		</aside>		<aside id="annual_archive_widget-2" class="widget Annual_Archive_Widget"><h3 class="widget-title">Arquivo</h3>	<ul>
		<li><a href='https://edneypitta.github.io/old-blog/2016/06/'>junho 2016</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/05/'>maio 2016</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/04/'>abril 2016</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/03/'>mar√ßo 2016</a>&nbsp;(10)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/02/'>fevereiro 2016</a>&nbsp;(11)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/01/'>janeiro 2016</a>&nbsp;(10)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/12/'>dezembro 2015</a>&nbsp;(3)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/11/'>novembro 2015</a>&nbsp;(3)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/10/'>outubro 2015</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/09/'>setembro 2015</a>&nbsp;(5)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/08/'>agosto 2015</a>&nbsp;(2)</li>
	</ul>
	</aside>		</div>
	</div><!-- #secondary -->
			</div><!-- close .*-inner (main-content or sidebar, depending if sidebar is used) -->
		</div><!-- close .row -->
	</div><!-- close .container -->
</div><!-- close .site-content -->

	<div id="footer-area">
		<div class="container footer-inner">
			<div class="row">
				
				</div>
		</div>

		<footer id="colophon" class="site-footer" role="contentinfo">
			<div class="site-info container">
				<div class="row">
										<nav role="navigation" class="col-md-6">
						<ul id="menu-social-1" class="nav footer-nav clearfix"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20"><a href="https://br.linkedin.com/in/edneypitta"><i class="fa fa-linkedin-square"></i></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-22"><a href="https://www.facebook.com/edneypitta"><i class="fa fa-facebook-square"></i></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-23"><a href="https://twitter.com/edneypitta"><i class="fa fa-twitter-square"></i></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-24"><a href="https://edneypitta.github.io/old-blog/feed/"><i class="fa fa-rss"></i></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-27"><a href="https://edneypitta.github.io/old-blog/sobre/"><i class="fa fa-info-circle"></i></a></li>
</ul>					</nav>
					<div class="copyright col-md-6">
						<a rel="license" href="http://creativecommons.org/licenses/by/2.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/2.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/2.0/">Creative Commons Attribution 2.0 Generic License</a>.						Theme by <a href="http://colorlib.com/" target="_blank">Colorlib</a> Powered by <a href="http://wordpress.org/" target="_blank">WordPress</a>					</div>
				</div>
			</div><!-- .site-info -->
			<div class="scroll-to-top"><i class="fa fa-angle-up"></i></div><!-- .scroll-to-top -->
		</footer><!-- #colophon -->
	</div>
</div><!-- #page -->

<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/skip-link-focus-fix.js?ver=20140222'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/wp-embed.min.js?ver=4.8.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */

/* ]]> */
</script>


</body>
</html>