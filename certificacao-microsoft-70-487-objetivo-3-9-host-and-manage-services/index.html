<!doctype html>
	<!--[if !IE]>
	<html class="no-js non-ie" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if IE 7 ]>
	<html class="no-js ie7" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if IE 8 ]>
	<html class="no-js ie8" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if IE 9 ]>
	<html class="no-js ie9" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if gt IE 9]><!-->
<html class="no-js" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <!--<![endif]-->
<head>
<base href="https://edneypitta.github.io/old-blog" />

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Certifica√ß√£o Microsoft 70-487: Objetivo 3.9 ‚Äì Host and manage services - Edney Pitta</title>

<!-- This site is optimized with the Yoast SEO plugin v3.0.7 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="O objetivo Host and manage services cobre como gerenciar simultaneidade, escolher um Instance Mode, criar hosts, escolher um mecanismo de hosting, criar servi√ßos transacionais e hostear em um Azure Worker Role."/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-3-9-host-and-manage-services/" />
<meta property="og:locale" content="pt_BR" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Certifica√ß√£o Microsoft 70-487: Objetivo 3.9 ‚Äì Host and manage services - Edney Pitta" />
<meta property="og:description" content="O objetivo Host and manage services cobre como gerenciar simultaneidade, escolher um Instance Mode, criar hosts, escolher um mecanismo de hosting, criar servi√ßos transacionais e hostear em um Azure Worker Role." />
<meta property="og:url" content="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-3-9-host-and-manage-services/" />
<meta property="og:site_name" content="Edney Pitta" />
<meta property="article:publisher" content="https://www.facebook.com/edneypitta" />
<meta property="article:tag" content="70-487" />
<meta property="article:section" content="Certifica√ß√£o" />
<meta property="article:published_time" content="2016-02-20T22:51:45+00:00" />
<meta property="article:modified_time" content="2016-03-01T16:58:23+00:00" />
<meta property="og:updated_time" content="2016-03-01T16:58:23+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="O objetivo Host and manage services cobre como gerenciar simultaneidade, escolher um Instance Mode, criar hosts, escolher um mecanismo de hosting, criar servi√ßos transacionais e hostear em um Azure Worker Role."/>
<meta name="twitter:title" content="Certifica√ß√£o Microsoft 70-487: Objetivo 3.9 ‚Äì Host and manage services - Edney Pitta"/>
<meta name="twitter:site" content="@edneypitta"/>
<meta name="twitter:creator" content="@edneypitta"/>
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />



		<script type="text/javascript">
			
			
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='sparkling-bootstrap-css'  href='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/css/bootstrap.min.css?ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='sparkling-icons-css'  href='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/css/font-awesome.min.css?ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='sparkling-fonts-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A400italic%2C400%2C600%2C700%7CRoboto+Slab%3A400%2C300%2C700&#038;ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='sparkling-style-css'  href='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/style.css?ver=4.8.2' type='text/css' media='all' />
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/modernizr.min.js?ver=4.8.2'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/bootstrap.min.js?ver=4.8.2'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/functions.min.js?ver=4.8.2'></script>
<link rel='https://api.w.org/' href='https://edneypitta.github.io/old-blog/wp-json/' />

 

<link rel='shortlink' href='https://edneypitta.github.io/old-blog/?p=474' />


<script data-cfasync="false" src="//load.sumome.com/" data-sumo-site-id="025f16b2b72012bef5c86b74ea4d0bd0652e8245a2df8c61ed302458c0f98f3b" async></script><style type="text/css">.entry-content {font-family: Open Sans; font-size:14px; font-weight: normal; color:#6B6B6B;}.navbar > .container .navbar-brand {
font-size: 35px;
margin-top: 7px;
}

#menu-social i{
font-size:17px;
}
#menu-social-1 i {
font-size:22px;
}

article ul {
    list-style: none;
    padding:0;
    margin:0;
margin-bottom: 10px;
}

article li { 
    padding-left: 1em; 
    text-indent: -.7em;
}

article li:before {
    content: "\2022";
    color: rgb(191, 66, 78); 
padding-right:7px;
font-size: 15px;
}

#logo {
margin: 10px 0px;
}

.textwidget a:hover h2{
color:#c9302c;
}</style>	<style type="text/css">
			.navbar > .container .navbar-brand {
			color: #ffffff;
		}
		</style>
	<link rel="icon" href="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-32x32.png" sizes="32x32" />
<link rel="icon" href="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-180x180.png" />
<meta name="msapplication-TileImage" content="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-270x270.png" />

<script type="text/javascript">
jQuery(document).ready(function()
{
jQuery('.fa-linkedin-square').parent().attr('target', '_blank').attr('title', 'LinkedIn');
jQuery('.fa-facebook-square').parent().attr('target', '_blank').attr('title', 'Facebook');
jQuery('.fa-twitter-square').parent().attr('target', '_blank').attr('title', 'Twitter');
jQuery('.fa-rss').parent().attr('target', '_blank').attr('title', 'RSS');

jQuery('.fa-info-circle').parent().attr('title', 'Sobre');
});
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66613004-1', 'auto');
  ga('send', 'pageview');

</script>
</head>

<body class="post-template-default single single-post postid-474 single-format-standard">
<div id="page" class="hfeed site">

	<header id="masthead" class="site-header" role="banner">
		<nav class="navbar navbar-default" role="navigation">
			<div class="container">
				<div class="row">
					<div class="site-navigation-inner col-sm-12">
						<div class="navbar-header">
							<button type="button" class="btn navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>

							
							<div id="logo">
								<a href="https://edneypitta.github.io/old-blog/"><img src="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-edneypitta-oficialissimo-fundo-branco.png"  height="84" width="411" alt="Edney Pitta"/></a>
							</div><!-- end of #logo -->

							
							
						</div>
						<div class="collapse navbar-collapse navbar-ex1-collapse"><ul id="menu-social" class="nav navbar-nav"><li id="menu-item-20" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20"><a title="&lt;i class=&quot;fa fa-linkedin-square&quot;&gt;&lt;/i&gt;" href="https://br.linkedin.com/in/edneypitta"><i class="fa fa-linkedin-square"></i></a></li>
<li id="menu-item-22" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-22"><a title="&lt;i class=&quot;fa fa-facebook-square&quot;&gt;&lt;/i&gt;" href="https://www.facebook.com/edneypitta"><i class="fa fa-facebook-square"></i></a></li>
<li id="menu-item-23" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-23"><a title="&lt;i class=&quot;fa fa-twitter-square&quot;&gt;&lt;/i&gt;" href="https://twitter.com/edneypitta"><i class="fa fa-twitter-square"></i></a></li>
<li id="menu-item-24" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-24"><a title="&lt;i class=&quot;fa fa-rss&quot;&gt;&lt;/i&gt;" href="https://edneypitta.github.io/old-blog/feed/"><i class="fa fa-rss"></i></a></li>
<li id="menu-item-27" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-27"><a title="&lt;i class=&quot;fa fa-info-circle&quot;&gt;&lt;/i&gt;" href="https://edneypitta.github.io/old-blog/sobre/"><i class="fa fa-info-circle"></i></a></li>
</ul></div>					</div>
				</div>
			</div>
		</nav><!-- .site-navigation -->
	</header><!-- #masthead -->

	<div id="content" class="site-content">

		<div class="top-section">
								</div>

		<div class="container main-content-area">
			<div class="row">
				<div class="main-content-inner col-sm-12 col-md-8 pull-left">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-474" class="post-474 post type-post status-publish format-standard hentry category-certificacao tag-70-487">
		<div class="post-inner-content">
		<header class="entry-header page-header">

			<h1 class="entry-title ">Certifica√ß√£o Microsoft 70-487: Objetivo 3.9 ‚Äì Host and manage services</h1>

			<div class="entry-meta">
				<span class="posted-on"><i class="fa fa-calendar"></i> <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-3-9-host-and-manage-services/" rel="bookmark"><time class="entry-date published" datetime="2016-02-20T22:51:45+00:00">20/02/2016</time><time class="updated" datetime="2016-03-01T16:58:23+00:00">01/03/2016</time></a></span><span class="byline"> <i class="fa fa-user"></i> <span class="author vcard"><a class="url fn n" href="https://edneypitta.github.io/old-blog/author/admin/">Edney Pitta</a></span></span>
								<span class="cat-links"><i class="fa fa-folder-open-o"></i>
					 <a href="https://edneypitta.github.io/old-blog/category/certificacao/" rel="category tag">Certifica√ß√£o</a>				</span>
								
			</div><!-- .entry-meta -->
		</header><!-- .entry-header -->

		<div class="entry-content">
			<p>Ol√°!<br />
Esse post ser√° sobre o √∫ltimo objetivo do cap√≠tulo de WCF, Host and manage services.<br />
Esse objetivo cobre como gerenciar simultaneidade, escolher um Instance Mode, criar hosts, escolher um mecanismo de hosting, criar servi√ßos transacionais e hostear em um Azure Worker Role.</p>
<h2>Gerenciando Simultaneidade</h2>
<p>√â bem prov√°vel que seu servi√ßo seja consumido por mais de um consumidor ao mesmo tempo. Com isso, √© necess√°rio tentar prever e gerenciar a simultaneidade que seu servi√ßo suportar√°.</p>
<p>Dentro de ServiceBehavior, voc√™ pode definir o ConcurrencyMode: <code>[ServiceBehavior(ConcurrencyMode=ConcurrencyMode.Single)]</code></p>
<p>O enum ConcurrencyMode possui 3 valores:</p>
<ul>
<li><strong>Single</strong>: em qualquer momento, somente 1 request tem acesso ao servi√ßo WCF por vez. Caso v√°rios requests sejam feitos simultaneamente, todos v√£o esperar at√© que o anterior complete seu processamento;</li>
<li><strong>Multiple</strong>: como o nome sugere, m√∫ltiplos requests podem ser feitos simultaneamente em threads separadas;</li>
<li><strong>Reentrant</strong>: funciona como o Single, mas se voc√™ fizer uma chamada a outro servi√ßo, o lock √© liberado para que o pr√≥ximo request seja processado.</li>
</ul>
<h2>Escolhendo um Instance Mode</h2>
<p>Tratando ainda sobre simultaneidade, a configura√ß√£o <strong>InstanceContextMode</strong> especifica o n√∫mero de inst√¢ncias do servi√ßo para processar os requests. Tamb√©m tem 3 valores e, junto com ConcurrencyMode, d√£o 9 poss√≠veis combina√ß√µes.</p>
<p>Assim como ConcurrencyMode, voc√™ pode setar essa propriedade no atributo ServiceBehavior. Os 3 valores s√£o:</p>
<ul>
<li><strong>Single</strong>: uma √∫nica inst√¢ncia do servi√ßo √© usada para todos os requests;</li>
<li><strong>PerSession</strong>: cria uma ou mais inst√¢ncias para cada client. √â a configura√ß√£o padr√£o;</li>
<li><strong>PerCall</strong>: cria uma ou mais inst√¢ncias para cada request.</li>
</ul>
<p>Esse √© um assunto bem complexo e o comportamento de cada combina√ß√£o aparentemente est√° fora do escopo do exame. Se quiser ir a fundo no tema, h√° um bom artigo no <a href="http://www.codeproject.com/Articles/89858/WCF-Concurrency-Single-Multiple-and-Reentrant-and" target="_blank">codeproject</a>.</p>
<h2>Criando Hosts</h2>
<p>H√° v√°rias op√ß√µes de host para um servi√ßo WCF. Vamos passar pelas op√ß√µes dispon√≠veis (ou prov√°veis de estar no exame) resumindo os pontos positivos e negativos.</p>
<h4>Self Hosting</h4>
<p>Servi√ßos WCF podem ser hospedados em qualquer aplica√ß√£o .NET. Voc√™ especifica a configura√ß√£o do servi√ßo em um arquivo de configura√ß√£o ou no c√≥digo em conjunto com inst√¢ncias da classe ServiceHost.</p>
<p>H√° v√°rios benef√≠cios dessa forma. Como voc√™ pode facilmente trocar de hosts, se sua aplica√ß√£o n√£o estiver performando bem, voc√™ pode fazer upgrade para outro host ou habilitar outros bindings. Fazer debug da aplica√ß√£o tamb√©m fica facilitado.</p>
<p>A principal desvantagem √© que voc√™ deve gerenciar todo o host, consertando quaisquer bugs que apare√ßam. Mover o host para outra m√°quina ou fazer um upgrade de hardware, se for necess√°rio, tamb√©m √© doloroso. Por isso s√£o geralmente usados para ambiente de desenvolvimento, e n√£o produ√ß√£o.</p>
<h4>Managed Windows Services</h4>
<p>N√£o muito diferentes de outras aplica√ß√µes .NET, Managed Services s√£o parecidos com Self Hosting, mas com mais poder. Se a m√°quina reiniciar, por exemplo, o servi√ßo pode startar automaticamente, sem a necessidade de um usu√°rio logado. Tamb√©m n√£o √© necess√°rio usar IIS ou WAS para rodar na m√°quina.</p>
<p>Como desvantagens, voc√™ ainda precisa escrever c√≥digo para criar o host com a classe ServiceHost e existe limita√ß√£o para <em>scale up</em> e <em>scale down</em>. Services tamb√©m tendem a ser mais dif√≠ceis para debug.</p>
<h4>Internet Information Services (IIS)</h4>
<p>O IIS, conhecido por hospedar aplica√ß√µes ASP.NET, tamb√©m pode ser usado para hospedar um servi√ßo WCF.</p>
<p>As vantagens s√£o todas as features que o IIS tem, como isolamento de pools de aplica√ß√µes, recycling, desligamento por ociosidade, monitoramento, etc. Se o servi√ßo precisar de alta disponibilidade e ser escal√°vel, IIS √© a escolha ideal.</p>
<p>A desvantagem que pode deix√°-lo inutiliz√°vel para alguns servi√ßos √© que ele s√≥ suporta bindings que fazem o transporte por HTTP.</p>
<h4>Windows Activation Service (WAS)</h4>
<p>WAS, apesar de presente na maioria das grandes organiza√ß√µes, n√£o √© t√£o conhecido como o IIS. </p>
<p>Ele prov√™ todos os benef√≠cios do IIS e suporta outros tipos de transporte, como TCP, named pipes e MSMQ.</p>
<p>A desvantagem √© que, por ser uma tecnologia nova, h√° pouco suporte e material sobre ela.</p>
<h4>Windows Azure</h4>
<p>Hospedar seu servi√ßo na nuvem possui v√°rias vantagens. A principal √© que toda a dor de cabe√ßa de manter um servidor com um servi√ßo rodando fica com a Microsoft, e n√£o com voc√™.</p>
<p>Por enquanto, √© suficiente saber que h√° 3 principais op√ß√µes no Azure: WebRole, AppFabric service bus e WorkerRole.</p>
<p>A desvantagem pode ser que sua aplica√ß√£o est√° hospedada por outras pessoas, o que tira o seu controle de ter um servidor on premise. Usando Azure, voc√™ ainda ter√° que fazer a escolhe entre self-host, IIS ou WAS.</p>
<h4>Classe ServiceHost</h4>
<p>Criar uma inst√¢ncia de ServiceHost √© simples. Voc√™ chama o construtor passando o tipo do servi√ßo, que deve estar referenciado. H√° v√°rios overloads do construtor, mas n√£o s√£o prov√°veis de estarem no exame. Ap√≥s isso, voc√™ chama o m√©todo Open e por fim Close, ambos num try/catch pois v√°rias coisas podem dar errado nesse tempo.</p>
<p><code>using (ServiceHost HostInstance = new ServiceHost(typeof(TestServiceType)))<br />
{<br />
 HostInstance.Open();<br />
 //Put in a Wait Condition so Host stays open<br />
 HostInstance.Close();<br />
}</code></p>
<p>Ap√≥s o canal ser aberto por um client, o comportamento depende das defini√ß√µes do servi√ßo (ConcurrencyMode, InstancingMode, tipos de endpoint, etc.). Um ponto importante para o client √© que, caso haja algum erro n√£o tratado, todo o canal √© considerado falho e inv√°lido para novas opera√ß√µes. Sempre deve haver a valida√ß√£o se a conex√£o est√° v√°lida.</p>
<p>√â importante tamb√©m entender as op√ß√µes de host. Como servi√ßos WCF podem ser hospedados em qualquer AppDomain, seja uma aplica√ß√£o Windows Form ou Console, se o AppDomain n√£o estiver ativo, o host tamb√©m n√£o estar√°.</p>
<p>Ao usar um mecanismo de hosting como IIS ou WAS, n√£o √© necess√°rio criar um ServiceHost. Basta configurar o servi√ßo e gerenciar pela ferramenta.</p>
<p>H√° outro ponto que possivelmente esteja no exame. Antes do .NET 4.0, se voc√™ quisesse usar o IIS para hospedar seu servi√ßo, voc√™ tinha que criar uma aplica√ß√£o ASP.NET com uma refer√™ncia ao seu servi√ßo, colocar as configura√ß√µes no Web.config e criar um arquivo de texto com a exten√ß√£o .svc (com uma √∫nica linha) para mapear o servi√ßo. </p>
<p>Com a vers√£o 4.0, isso n√£o √© mais necess√°rio. Voc√™ pode usar a classe <strong>ServiceHostingEnvironment</strong>, que permite que voc√™ referencie o arquivo .svc virtualmente, sem a necessidade de cri√°-lo fisicamente. A configura√ß√£o via arquivo fica assim:</p>
<p><code>&lt;serviceHostingEnvironment&gt;<br />
  &lt;serviceActivations&gt;<br />
    &lt;add relativeAddress=&quot;ServiceOrInterfaceName.svc&quot; service=&quot;FullyQualifiedServiceName&quot;/&gt;<br />
  &lt;/serviceActivations&gt;<br />
&lt;/serviceHostingEnvironment&gt;<br />
</code></p>
<h2>Escolhendo Um Mecanismo De Hosting</h2>
<p>Resumindo o que vimos at√© agora, voc√™ tem v√°rias op√ß√µes para hospedar um servi√ßo WCF:</p>
<ul>
<li>Windows Form application</li>
<li>Console application</li>
<li>Managed Windows Service</li>
<li>ASP.NET application</li>
<li>IIS</li>
<li>WAS</li>
<li>Windows Azure</li>
</ul>
<p>N√£o existe regra para fazer essa escolha ou uma op√ß√£o que atenda todos os cen√°rios. Se seu servi√ßo demandar que o transporte n√£o seja feito por HTTP, por exemplo, o IIS n√£o √© uma op√ß√£o. Ou se voc√™ precisar usar um binding MSMQ, voc√™ vai precisar de um host que d√™ suporte a isso.</p>
<p>Falando no geral, procure uma solu√ß√£o que te d√™ menos trabalho. IIS e WAS s√£o produtos confi√°veis, com uma base de usu√°rios grande e f√°ceis de usar em conjunto com WCF. Escrever um novo host fatalmente ir√° gerar bugs ao longo do caminho.</p>
<h2>Criando Servi√ßos Transacionais</h2>
<p>No <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-1-3-implement-transactions/" target="_blank">objetivo 1.3</a>, falamos sobre a classe TransactionScope. Ela tamb√©m funciona de maneira bem simples com servi√ßos WCF.</p>
<p>Voc√™ precisa decorar a opera√ß√£o com o atributo TransactionFlow (em conjunto com o atributo OperationContract), que especifica se a opera√ß√£o suporta transa√ß√µes. O construtor aceita 3 valores:</p>
<ul>
<li><code>[TransactionFlow(TransactionFlowOption.NotAllowed)]</code>: a opera√ß√£o n√£o pode participar de uma transaction;</li>
<li><code>[TransactionFlow(TransactionFlowOption.Allowed)]</code>: a opera√ß√£o pode participar de uma transaction, se o client iniciar uma;</li>
<li><code>[TransactionFlow(TransactionFlowOption.Mandatory)]</code>: obrigatoriamente a chamada deve fazer parte de uma transaction.</li>
</ul>
<p>Al√©m disso, voc√™ deve setar as propriedades TransactionAutoComplete e TransactionScopeRequired do OperationBehavior como true:</p>
<p><code>[OperationBehavior(TransactionAutoComplete = true, TransactionScopeRequired = true)]<br />
public String GetTestSummary(String examId){}</code></p>
<p>TransactionAutoComplete diz ao runtime para automaticamente completar a transa√ß√£o se nenhuma exce√ß√£o for lan√ßada. Caso seja, ser√° feito o rollback. O atributo TransactionScopeRequired diz que o m√©todo precisa fazer parte de uma TransactionScope.</p>
<h2>Hospedando Servi√ßos Em Um Azure WorkerRole</h2>
<p>Hospedar seu servi√ßo no Azure em um WorkerRole significa ter mais controle sobre o servidor e as configura√ß√µes do seu servi√ßo, permitindo que voc√™ n√£o use o IIS como hosting, por exemplo.</p>
<p>Com isso, √© de sua responsabilidade configurar endpoints, inicializar e abrir um ServiceHost. Isso pode ser feito no m√©todo OnStart.</p>
<p>As configura√ß√µes de endpoint podem estar no arquivo de configura√ß√£o da role (.csdef). O c√≥digo fica assim:</p>
<p><script src="https://gist.github.com/edneypitta/117c18d38759fa885679.js"></script></p>
<p>√â interessante deixar a vari√°vel de host fora do m√©todo para que o garbage collector n√£o a remova do escopo quando o m√©todo terminar.</p>
<p>O √∫ltimo detalhe desse objetivo, n√£o relacionado a nenhum item, √© que voc√™ deve saber que existe um <strong>DiscoveryEndpoint</strong> que faz com que seu servi√ßo seja descoberto por clients.</p>
<hr />
<p>E acabamos o cap√≠tulo 3 sobre servi√ßos WCF üòÄ Por ser o maior objetivo da certifica√ß√£o, o assunto ficou bem extenso e chato, √†s vezes. </p>
<p>Mas agora vem o cap√≠tulo 4 com os objetivos sobre Web API, que √© o mais comum nas aplica√ß√µes hoje em dia (e bem mais elegante).</p>
<p>O pr√≥ximo objetivo ser√° o 4.1,<strong> <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-4-1-design-a-web-api/">Design a Web API</a></strong>.</p>
<p>At√© mais!</p>
					</div><!-- .entry-content -->

		<footer class="entry-meta">

	    		      <!-- tags -->
	      <div class="tagcloud">

	          <a href="https://edneypitta.github.io/old-blog/tag/70-487/">70-487</a> 
	      </div>
	      <!-- end tags -->
	      
		</footer><!-- .entry-meta -->
	</div>

	
</article><!-- #post-## -->

			
<div id="disqus_thread">
    </div>


				<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Navega√ß√£o de Post</h1>
		<div class="nav-links">
			<div class="nav-previous"><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-3-8-implement-messaging-patterns/" rel="prev"><i class="fa fa-chevron-left"></i> Certifica√ß√£o Microsoft 70-487: Objetivo 3.8 ‚Äì Implement messaging patterns</a></div><div class="nav-next"><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-4-1-design-a-web-api/" rel="next">Certifica√ß√£o Microsoft 70-487: Objetivo 4.1 ‚Äì Design a Web API <i class="fa fa-chevron-right"></i></a></div>		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
		
		</main><!-- #main -->
	</div><!-- #primary -->
<script type="text/javascript">

  jQuery(document).ready(function(){
	jQuery('.esconderTextoPagina').remove();
	
  });
</script>

</div>
	<div id="secondary" class="widget-area col-sm-12 col-md-4" role="complementary">
		<div class="well">
						<aside id="text-3" class="widget widget_text">			<div class="textwidget"><a href="https://edneypitta.github.io/old-blog/sobre/"><img src="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/IMG-20150829-WA00012-e1440915174271-150x150.jpg"  width="150" height="150" class="aligncenter size-thumbnail wp-image-93" style="border-radius: 80px;" />
<h2 style="text-align:center;">Edney Pitta</h2></a>
<div style="text-align: center;">Desenvolvedor de Software @ Lambda3</div>
<div style="margin-top:20px;text-align:center;"><a href="https://edneypitta.github.io/old-blog/sobre/"><button class="btn btn-danger btn-lg " >SOBRE MIM</button></a></div></div>
		</aside><aside id="search-2" class="widget widget_search">
<form role="search" method="get" class="form-search" action="https://edneypitta.github.io/old-blog/">
  <div class="input-group">
  	<label class="screen-reader-text" for="s">Search for:</label>
    <input type="text" class="form-control search-query" placeholder="Procurar&hellip;" value="" name="s" title="Search for:" />
    <span class="input-group-btn">
      <button type="submit" class="btn btn-default" name="submit" id="searchsubmit" value="Search"><span class="glyphicon glyphicon-search"></span></button>
    </span>
  </div>
</form></aside>		<aside id="recent-posts-3" class="widget widget_recent_entries">		<h3 class="widget-title">Posts recentes</h3>		<ul>
					<li>
				<a href="https://edneypitta.github.io/old-blog/migrando-um-projeto-asp-net-core-rc-1-para-rc-2/">Migrando um projeto ASP.NET Core RC 1 para RC 2</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-486-developing-asp-net-mvc-web-applications/">Certifica√ß√£o Microsoft 70-486: Developing ASP.NET MVC Web Applications</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-480-programming-in-html5-with-javascript-and-css3/">Certifica√ß√£o Microsoft 70-480: Programming in HTML5 with JavaScript and CSS3</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-resultado/">Certifica√ß√£o Microsoft 70-487 &#8211; Resultado</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-5-6-share-assemblies-between-multiple-applications-and-servers/">Certifica√ß√£o Microsoft 70-487: Objetivo 5.6 ‚Äì Share assemblies between multiple applications and servers</a>
						</li>
				</ul>
		</aside>		<aside id="annual_archive_widget-2" class="widget Annual_Archive_Widget"><h3 class="widget-title">Arquivo</h3>	<ul>
		<li><a href='https://edneypitta.github.io/old-blog/2016/06/'>junho 2016</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/05/'>maio 2016</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/04/'>abril 2016</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/03/'>mar√ßo 2016</a>&nbsp;(10)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/02/'>fevereiro 2016</a>&nbsp;(11)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/01/'>janeiro 2016</a>&nbsp;(10)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/12/'>dezembro 2015</a>&nbsp;(3)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/11/'>novembro 2015</a>&nbsp;(3)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/10/'>outubro 2015</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/09/'>setembro 2015</a>&nbsp;(5)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/08/'>agosto 2015</a>&nbsp;(2)</li>
	</ul>
	</aside>		</div>
	</div><!-- #secondary -->
			</div><!-- close .*-inner (main-content or sidebar, depending if sidebar is used) -->
		</div><!-- close .row -->
	</div><!-- close .container -->
</div><!-- close .site-content -->

	<div id="footer-area">
		<div class="container footer-inner">
			<div class="row">
				
				</div>
		</div>

		<footer id="colophon" class="site-footer" role="contentinfo">
			<div class="site-info container">
				<div class="row">
										<nav role="navigation" class="col-md-6">
						<ul id="menu-social-1" class="nav footer-nav clearfix"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20"><a href="https://br.linkedin.com/in/edneypitta"><i class="fa fa-linkedin-square"></i></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-22"><a href="https://www.facebook.com/edneypitta"><i class="fa fa-facebook-square"></i></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-23"><a href="https://twitter.com/edneypitta"><i class="fa fa-twitter-square"></i></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-24"><a href="https://edneypitta.github.io/old-blog/feed/"><i class="fa fa-rss"></i></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-27"><a href="https://edneypitta.github.io/old-blog/sobre/"><i class="fa fa-info-circle"></i></a></li>
</ul>					</nav>
					<div class="copyright col-md-6">
						<a rel="license" href="http://creativecommons.org/licenses/by/2.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/2.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/2.0/">Creative Commons Attribution 2.0 Generic License</a>.						Theme by <a href="http://colorlib.com/" target="_blank">Colorlib</a> Powered by <a href="http://wordpress.org/" target="_blank">WordPress</a>					</div>
				</div>
			</div><!-- .site-info -->
			<div class="scroll-to-top"><i class="fa fa-angle-up"></i></div><!-- .scroll-to-top -->
		</footer><!-- #colophon -->
	</div>
</div><!-- #page -->

<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/skip-link-focus-fix.js?ver=20140222'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/comment-reply.min.js?ver=4.8.2'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/wp-embed.min.js?ver=4.8.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"platform":"wordpress@4.8.2","language":""},"disqusIdentifier":"474 http:\/\/edneypitta.github.io\/?p=474","disqusShortname":"edneypitta","disqusTitle":"Certifica\u00e7\u00e3o Microsoft 70-487: Objetivo 3.9 \u2013 Host and manage services","disqusUrl":"http:\/\/edneypitta.github.io\/certificacao-microsoft-70-487-objetivo-3-9-host-and-manage-services\/","options":{"manualSync":false},"postId":"474"};
/* ]]> */
</script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/plugins/disqus-comment-system/media/js/disqus.js?ver=4.8.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"edneypitta"};
/* ]]> */
</script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/plugins/disqus-comment-system/media/js/count.js?ver=4.8.2'></script>

</body>
</html>