<!doctype html>
	<!--[if !IE]>
	<html class="no-js non-ie" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if IE 7 ]>
	<html class="no-js ie7" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if IE 8 ]>
	<html class="no-js ie8" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if IE 9 ]>
	<html class="no-js ie9" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <![endif]-->
	<!--[if gt IE 9]><!-->
<html class="no-js" lang="pt-BR" prefix="og: http://ogp.me/ns#"> <!--<![endif]-->
<head>
<base href="https://edneypitta.github.io/old-blog" />

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Certifica√ß√£o Microsoft 70-487: Objetivo 5.6 ‚Äì Share assemblies between multiple applications and servers - Edney Pitta</title>

<!-- This site is optimized with the Yoast SEO plugin v3.0.7 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="O objetivo Share assemblies between multiple applications and servers cobre como preparar o ambiente para usar assemblies entre m√∫ltiplos servidores, assinar assemblies com um strong name, fazer o deploy de assemblies para o GAC (global assembly cache), implementar versionamento de assemblies, criar um assembly manifest e configurar assembly binding redirects."/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-5-6-share-assemblies-between-multiple-applications-and-servers/" />
<meta property="og:locale" content="pt_BR" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Certifica√ß√£o Microsoft 70-487: Objetivo 5.6 ‚Äì Share assemblies between multiple applications and servers - Edney Pitta" />
<meta property="og:description" content="O objetivo Share assemblies between multiple applications and servers cobre como preparar o ambiente para usar assemblies entre m√∫ltiplos servidores, assinar assemblies com um strong name, fazer o deploy de assemblies para o GAC (global assembly cache), implementar versionamento de assemblies, criar um assembly manifest e configurar assembly binding redirects." />
<meta property="og:url" content="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-5-6-share-assemblies-between-multiple-applications-and-servers/" />
<meta property="og:site_name" content="Edney Pitta" />
<meta property="article:publisher" content="https://www.facebook.com/edneypitta" />
<meta property="article:tag" content="70-487" />
<meta property="article:section" content="Certifica√ß√£o" />
<meta property="article:published_time" content="2016-03-09T17:32:39+00:00" />
<meta property="article:modified_time" content="2016-03-09T17:50:52+00:00" />
<meta property="og:updated_time" content="2016-03-09T17:50:52+00:00" />
<meta property="og:image" content="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-edneypitta-oficialissimo-fundo-branco.png" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="O objetivo Share assemblies between multiple applications and servers cobre como preparar o ambiente para usar assemblies entre m√∫ltiplos servidores, assinar assemblies com um strong name, fazer o deploy de assemblies para o GAC (global assembly cache), implementar versionamento de assemblies, criar um assembly manifest e configurar assembly binding redirects."/>
<meta name="twitter:title" content="Certifica√ß√£o Microsoft 70-487: Objetivo 5.6 ‚Äì Share assemblies between multiple applications and servers - Edney Pitta"/>
<meta name="twitter:site" content="@edneypitta"/>
<meta name="twitter:image" content="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-edneypitta-oficialissimo-fundo-branco.png"/>
<meta name="twitter:creator" content="@edneypitta"/>
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />



		<script type="text/javascript">
			
			
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='sparkling-bootstrap-css'  href='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/css/bootstrap.min.css?ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='sparkling-icons-css'  href='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/css/font-awesome.min.css?ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='sparkling-fonts-css'  href='//fonts.googleapis.com/css?family=Open+Sans%3A400italic%2C400%2C600%2C700%7CRoboto+Slab%3A400%2C300%2C700&#038;ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='sparkling-style-css'  href='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/style.css?ver=4.8.2' type='text/css' media='all' />
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/modernizr.min.js?ver=4.8.2'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/bootstrap.min.js?ver=4.8.2'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/functions.min.js?ver=4.8.2'></script>
<link rel='https://api.w.org/' href='https://edneypitta.github.io/old-blog/wp-json/' />

 

<link rel='shortlink' href='https://edneypitta.github.io/old-blog/?p=570' />


<script data-cfasync="false" src="//load.sumome.com/" data-sumo-site-id="025f16b2b72012bef5c86b74ea4d0bd0652e8245a2df8c61ed302458c0f98f3b" async></script><style type="text/css">.entry-content {font-family: Open Sans; font-size:14px; font-weight: normal; color:#6B6B6B;}.navbar > .container .navbar-brand {
font-size: 35px;
margin-top: 7px;
}

#menu-social i{
font-size:17px;
}
#menu-social-1 i {
font-size:22px;
}

article ul {
    list-style: none;
    padding:0;
    margin:0;
margin-bottom: 10px;
}

article li { 
    padding-left: 1em; 
    text-indent: -.7em;
}

article li:before {
    content: "\2022";
    color: rgb(191, 66, 78); 
padding-right:7px;
font-size: 15px;
}

#logo {
margin: 10px 0px;
}

.textwidget a:hover h2{
color:#c9302c;
}</style>	<style type="text/css">
			.navbar > .container .navbar-brand {
			color: #ffffff;
		}
		</style>
	<link rel="icon" href="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-32x32.png" sizes="32x32" />
<link rel="icon" href="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-180x180.png" />
<meta name="msapplication-TileImage" content="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-cropped-edneypitta-oficialissimo-fundo-branco-270x270.png" />

<script type="text/javascript">
jQuery(document).ready(function()
{
jQuery('.fa-linkedin-square').parent().attr('target', '_blank').attr('title', 'LinkedIn');
jQuery('.fa-facebook-square').parent().attr('target', '_blank').attr('title', 'Facebook');
jQuery('.fa-twitter-square').parent().attr('target', '_blank').attr('title', 'Twitter');
jQuery('.fa-rss').parent().attr('target', '_blank').attr('title', 'RSS');

jQuery('.fa-info-circle').parent().attr('title', 'Sobre');
});
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66613004-1', 'auto');
  ga('send', 'pageview');

</script>
</head>

<body class="post-template-default single single-post postid-570 single-format-standard">
<div id="page" class="hfeed site">

	<header id="masthead" class="site-header" role="banner">
		<nav class="navbar navbar-default" role="navigation">
			<div class="container">
				<div class="row">
					<div class="site-navigation-inner col-sm-12">
						<div class="navbar-header">
							<button type="button" class="btn navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>

							
							<div id="logo">
								<a href="https://edneypitta.github.io/old-blog/"><img src="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/cropped-edneypitta-oficialissimo-fundo-branco.png"  height="84" width="411" alt="Edney Pitta"/></a>
							</div><!-- end of #logo -->

							
							
						</div>
						<div class="collapse navbar-collapse navbar-ex1-collapse"><ul id="menu-social" class="nav navbar-nav"><li id="menu-item-20" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20"><a title="&lt;i class=&quot;fa fa-linkedin-square&quot;&gt;&lt;/i&gt;" href="https://br.linkedin.com/in/edneypitta"><i class="fa fa-linkedin-square"></i></a></li>
<li id="menu-item-22" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-22"><a title="&lt;i class=&quot;fa fa-facebook-square&quot;&gt;&lt;/i&gt;" href="https://www.facebook.com/edneypitta"><i class="fa fa-facebook-square"></i></a></li>
<li id="menu-item-23" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-23"><a title="&lt;i class=&quot;fa fa-twitter-square&quot;&gt;&lt;/i&gt;" href="https://twitter.com/edneypitta"><i class="fa fa-twitter-square"></i></a></li>
<li id="menu-item-24" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-24"><a title="&lt;i class=&quot;fa fa-rss&quot;&gt;&lt;/i&gt;" href="https://edneypitta.github.io/old-blog/feed/"><i class="fa fa-rss"></i></a></li>
<li id="menu-item-27" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-27"><a title="&lt;i class=&quot;fa fa-info-circle&quot;&gt;&lt;/i&gt;" href="https://edneypitta.github.io/old-blog/sobre/"><i class="fa fa-info-circle"></i></a></li>
</ul></div>					</div>
				</div>
			</div>
		</nav><!-- .site-navigation -->
	</header><!-- #masthead -->

	<div id="content" class="site-content">

		<div class="top-section">
								</div>

		<div class="container main-content-area">
			<div class="row">
				<div class="main-content-inner col-sm-12 col-md-8 pull-left">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-570" class="post-570 post type-post status-publish format-standard hentry category-certificacao tag-70-487">
		<div class="post-inner-content">
		<header class="entry-header page-header">

			<h1 class="entry-title ">Certifica√ß√£o Microsoft 70-487: Objetivo 5.6 ‚Äì Share assemblies between multiple applications and servers</h1>

			<div class="entry-meta">
				<span class="posted-on"><i class="fa fa-calendar"></i> <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-5-6-share-assemblies-between-multiple-applications-and-servers/" rel="bookmark"><time class="entry-date published" datetime="2016-03-09T17:32:39+00:00">09/03/2016</time><time class="updated" datetime="2016-03-09T17:50:52+00:00">09/03/2016</time></a></span><span class="byline"> <i class="fa fa-user"></i> <span class="author vcard"><a class="url fn n" href="https://edneypitta.github.io/old-blog/author/admin/">Edney Pitta</a></span></span>
								<span class="cat-links"><i class="fa fa-folder-open-o"></i>
					 <a href="https://edneypitta.github.io/old-blog/category/certificacao/" rel="category tag">Certifica√ß√£o</a>				</span>
								
			</div><!-- .entry-meta -->
		</header><!-- .entry-header -->

		<div class="entry-content">
			<blockquote><p>Esse √© o √∫ltimo post da s√©rie sobre a certifica√ß√£o Microsoft 70-487. Os links para todos os posts est√£o <a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/">aqui</a>.</p></blockquote>
<p>Ol√° pessoal, tudo bem?<br />
Vamos ao √∫ltimo objetivo da certifica√ß√£o, o <strong>Share assemblies between multiple applications and servers</strong>.</p>
<p>Esse objetivo cobre como preparar o ambiente para usar assemblies entre m√∫ltiplos servidores, assinar assemblies com um strong name, fazer o deploy de assemblies para o GAC (global assembly cache), implementar versionamento de assemblies e criar um assembly manifest. Vamos l√°?</p>
<h2>Preparando O Ambiente Para Usar Assemblies Entre M√∫ltiplos Servidores</h2>
<p>Quando voc√™ faz o deploy da sua aplica√ß√£o, todo o c√≥digo (inclusive o .NET Framework) √© compilado para assemblies (DLLs) que s√£o lidos e carregados na mem√≥ria pelo IIS. Em casos onde um servidor hospeda v√°rias aplica√ß√µes, v√°rios assemblies ser√£o deployados redundantemente. Por exemplo, se existem 3 aplica√ß√µes MVC, o assembly <em>System.Web.Mvc</em> ser√° carregado 3 vezes na mem√≥ria. Isso aumenta o tempo de inicializa√ß√£o e o uso da mem√≥ria do seu servidor.</p>
<p>Para essa se√ß√£o, voc√™ deve entender 2 conceitos que o ASP.NET utiliza na hospedagem de aplica√ß√µes para resolver esse problema: <em>Shadow Copying</em> e <em>Assembly Interning</em>.</p>
<p>Shadow Copying √© √∫til no momento de atualiza√ß√£o dos assemblies. Normalmente, o CLR (Commom Language Runtime) trava os assemblies quando eles est√£o em execu√ß√£o. Isso significa que voc√™ n√£o pode simplesmente copiar uma nova vers√£o em cima da atual. O Shadow Copying atua nesses cen√°rios copiando o assembly original para a pasta de arquivos tempor√°rios do ASP.NET, travando a c√≥pia e liberando a atualiza√ß√£o do assembly na localiza√ß√£o original. Isso √© habilitado por padr√£o nas pastas de assemblies (bin).</p>
<p>O Assembly Interning, dispon√≠vel a partir do ASP.NET 4.5, analisa essa pasta tempor√°ria procurando por assemblies duplicados (usados 3 vezes ou mais), como no caso de 3 aplica√ß√µes MVC no mesmo servidor. Esses assemblies s√£o ent√£o movidos para uma localiza√ß√£o especial, e todas as refer√™ncias originais s√£o substitu√≠das com &#8220;links simb√≥licos&#8221;, que apontam para essa nova localiza√ß√£o quando as aplica√ß√µes fazem requisi√ß√µes aos assemblies que foram compartilhados. Dessa forma, todos esses assemblies s√£o carregados apenas uma vez na mem√≥ria, economizando tempo e recursos.</p>
<p>Voc√™ usa o Assembly Interning pela ferramenta <em>aspnet_intern.exe</em>, na linha de comando. Ela pode ser usada assim:</p>
<p><code>aspnet_intern -mode exec -sourcedir "C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Temporary ASP.NET Files" -interndir C:\CommonAssemblies</code></p>
<p>H√° tamb√©m um modo de an√°lise, onde a ferramenta mostra quais assemblies podem ser compartilhados:</p>
<p><code>aspnet_intern -mode analyze -sourcedir "C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Temporary ASP.NET Files" -v</code></p>
<h2>Assinando Assemblies Com Um Strong Name</h2>
<p>O CLR suporta dois tipos de assemblies: os regulares e os com strong name (<em>&#8220;nome forte&#8221;</em>). Ambos t√™m a mesma estrutura, mas os fortemente nomeados t√™m chaves p√∫blicas e privadas que identificam o publicador e o conte√∫do do assembly. </p>
<p>Isso garante singularidade, pois nenhum assembly pode ter o mesmo nome forte que o seu (o nome √© baseado na chave privada). Os outros benef√≠cios s√£o que somente voc√™ pode publicar atualiza√ß√µes para o assembly e que o .NET consegue checar a integridade do assembly desde o momento que ele foi assinado.</p>
<p>Voc√™ pode assinar um assembly via linha de comando ou pelo Visual Studio. O primeiro passo √© gerar as chaves privada e p√∫blica por meio de um arquivo <em>.snk</em>. O seguinte comando gera esse arquivo:</p>
<p><code>sn -k myKey.snk</code></p>
<p>Pelo Visual Studio, isso √© feito na p√°gina de Properties do projeto, na aba Signing:</p>
<p><img src="https://edneypitta.github.io/old-blog/wp-content/uploads/2016/03/26.png" alt="signing" width="715" height="554" class="alignnone size-full wp-image-604" srcset="https://edneypitta.github.io/old-blog/wp-content/uploads/2016/03/26.png 715w, https://edneypitta.github.io/old-blog/wp-content/uploads/2016/03/26-300x232.png 300w" sizes="(max-width: 715px) 100vw, 715px" /></p>
<p>Habilitando a op√ß√£o Sign the assembly, o Visual Studio gera o arquivo com a chave e assina o assembly no momento da compila√ß√£o.</p>
<p>Assemblies assinados s√≥ podem referenciar assemblies que tamb√©m s√£o assinados por motivos de seguran√ßa. Caso voc√™ referencie um assembly n√£o assinado, ao invocar qualquer c√≥digo desse assembly o erro <em>Assembly generation failed &#8212; Referenced assembly &#8216;MyLib&#8217; does not have a strong name</em> √© lan√ßado.</p>
<p>Ap√≥s assinar um assembly, voc√™ pode ver a chave p√∫blica pela ferramenta <em>Sn.exe</em>, instalada no Visual Studio. O seguinte comando pode ser usado:</p>
<p><code>sn -Tp C:\Windows\Microsoft.NET\Framework\v4.0.30319\System.Data.dll</code></p>
<p>O resultado √© o seguinte, onde o <em>Public key token</em> representa a chave p√∫blica:</p>
<p><em>Microsoft (R) .NET Framework Strong Name Utility Version 4.0.30319.17929 Copyright (c)<br />
Microsoft Corporation. All rights reserved.<br />
Identity public key (hash algorithm: Unknown): 00000000000000000400000000000000<br />
Signature public key (hash algorithm: sha256): 002400000c800000<br />
140100000602000000240000525341310008000001000100613399aff18ef1<br />
a2c2514a273a42d9042b72321f1757102df9ebada69923e2738406c21e5b801552ab8d200a65a2<br />
35e001ac9adc25f2d811eb09496a4c6a59d4619589c69f5baf0c4179a47311d92555cd006acc8b<br />
5959f2bd6e10e360c34537a1d266da8085856583c85d81da7f3ec01ed9564c58d93d713cd0172c<br />
8e23a10f0239b80c96b07736f5d8b022542a4e74251a5f432824318b3539a5a087f8e53d2f135f<br />
9ca47f3bb2e10aff0af0849504fb7cea3ff192dc8de0edad64c68efde34c56d302ad55fd6e80f3<br />
02d5efcdeae953658d3452561b5f36c542efdbdd9f888538d374cef106acf7d93a4445c3c73cd9<br />
11f0571aaf3d54da12b11ddec375b3<br />
Public key token is b77a5c561934e089</em></p>
<p>Para empresas, √© importante manter a chave privada segura, pois algu√©m pode roub√°-la e distribuir assemblies alterados que parecem leg√≠timos. Por√©m, sem a chave privada, os desenvolvedores n√£o conseguem assinar o assembly para construir a aplica√ß√£o. </p>
<p>Para evitar esse problema, o conceito de <em>delay/partial signing</em> foi criado. Com isso, os desenvolvedores conseguem assinar o assembly somente com a chave p√∫blica, deixando para assinar o assembly com a chave privada somente no momento da publica√ß√£o. Na figura acima no Visual Studio, a op√ß√£o Delay sign only faz isso.</p>
<p>Lembre-se para o exame dos benef√≠cios de assinar um assembly e quando usar delayed signing.</p>
<h2>Fazendo O Deploy De Assemblies Para O GAC (Global Assembly Cache)</h2>
<p>GAC (Global Assembly Cache) √© uma biblioteca especializada em guardar assemblies. Fazer o deploy de um assembly para o GAC significa que ele estar√° dispon√≠vel para todas as aplica√ß√µes hospedadas naquele servidor.</p>
<p>Usar o GAC √© √∫til quando um assembly √© compartilhado entre m√∫ltiplas aplica√ß√µes. Outra raz√£o √© para melhoria de seguran√ßa, visto que normalmente somente administradores conseguem alterar o GAC. O GAC tamb√©m √© conveniente para fazer o deploy de m√∫ltiplas vers√µes do mesmo assembly.</p>
<p>Para o servidor de produ√ß√£o, voc√™ pode fazer o deploy de um assembly para o GAC por meio de alguma ferramenta como o Windows Installer 2.0 ou com o Web Deploy configurado com um provider para fazer a instala√ß√£o do arquivo no GAC. </p>
<p>No ambiente de desenvolvimento, voc√™ usa uma ferramenta chamada <em>Gacutil.exe</em>. Os seguintes comandos podem ser utilizados:</p>
<ul>
<li><code>gacutil -l</code> lista o conte√∫do do GAC;</li>
<li><code>gacutil -i [assembly name]</code> instala um assembly no GAC;</li>
<li><code>gacutil -u [assembly name]</code> remove um assembly do GAC.</li>
</ul>
<p>Ao referenciar um assembly no seu projeto, voc√™ pode adicionar uma refer√™ncia ao arquivo no GAC ou uma c√≥pia local. Quando o Visual Studio detecta que h√° um assembly do GAC referenciado, ele adiciona a refer√™ncia ao GAC.</p>
<h2>Implementando Versionamento De Assemblies</h2>
<p>Cada assembly carrega no seu manifesto o n√∫mero da sua vers√£o no seguinte formato: <em>{Major}.{Minor}.{Build}.{Revision}</em>.</p>
<p>Ao fazer o build de um assembly, h√° 2 n√∫meros de vers√£o que voc√™ deve levar em conta: a vers√£o do arquivo e a vers√£o do assembly .NET. Quando um projeto √© criado no Visual Studio, o arquivo <em>AssemblyInfo.cs</em> √© automaticamente criado contendo as seguintes linhas:</p>
<p><code>[assembly:¬†AssemblyVersion("1.0.0.0")]<br />
[assembly:¬†AssemblyFileVersion("1.0.0.0")]</code></p>
<p><em>AssemblyFileVersionAttribute</em> √© o que deve ser incrementado a cada build no seu processo de build. <em>AssemblyVersionAttribute</em> deve ser incrementado manualmente a cada deploy para produ√ß√£o.</p>
<p>Como dito anteriormente, m√∫ltiplas vers√µes de um mesmo assembly podem ser deployados para o GAC. Isso √© chamado <em>side-by-side hosting</em>.</p>
<p>O processo de encontrar o assembly correto para ser carregado pelo CLR come√ßa no n√∫mero da vers√£o mencionado no manifesto. Mas isso pode ser influenciado por alguns arquivos de configura√ß√£o, como o da aplica√ß√£o, do Publisher Policy ou da Machine Configuration.</p>
<p>Vamos supor que voc√™ tem um assembly carregado no GAC e v√°rias aplica√ß√µes dependem dele. Caso voc√™ publique uma nova vers√£o e queira for√ßar as aplica√ß√µes a usarem essa nova vers√£o, voc√™ pode publicar um Publisher Policy para o GAC com a seguinte configura√ß√£o:</p>
<p><script src="https://gist.github.com/edneypitta/c6daa1121fc7ecc03430.js"></script></p>
<p>Nesse exemplo, quando o CLR procura o assembly com a vers√£o 1.0.0.0, √© redirecionado para o 2.0.0.0.</p>
<p>Caso todos os assemblies estejam privados dentro da aplica√ß√£o, voc√™ pode adicionar a se√ß√£o de <em>probing </em>no arquivo web.config para o CLR procurar em outro diret√≥rio. Exemplo:</p>
<p><script src="https://gist.github.com/edneypitta/ea4c8abba64f5a633227.js"></script></p>
<p>Outra op√ß√£o √© usar o elemento <em>codeBase</em> para especificar uma localiza√ß√£o fora do diret√≥rio da aplica√ß√£o, podendo ser outro computador da rede ou algum lugar na internet. </p>
<p>Dois detalhes: os assemblies precisam ser fortemente nomeados (assinados) se estiverem fora da pasta da aplica√ß√£o e os assemblies localizados em outro computador s√£o baixados para uma pasta especial no GAC. </p>
<p>Um exemplo de configura√ß√£o do codeBase:</p>
<p><script src="https://gist.github.com/edneypitta/627d66ca08e8b271f8fe.js"></script></p>
<p>Para o exame, lembre-se que a op√ß√£o de probing s√≥ pode ser usada para localiza√ß√µes dentro do caminho da aplica√ß√£o, enquanto o codeBase permite outras localiza√ß√µes.</p>
<h2>Criando Um Assembly Manifest</h2>
<p>O Assembly Manifest √© o lugar que cont√©m os metadados do assembly e de todos os assemblies que ele depende.</p>
<p>A ferramenta <em>ILDasm </em>analisa o conte√∫do de assemblies compilados. Ela mostra da seguinte forma:</p>
<p><img src="https://edneypitta.github.io/old-blog/wp-content/uploads/2016/03/8.png" alt="ildasm" width="562" height="301" class="alignnone size-full wp-image-607" srcset="https://edneypitta.github.io/old-blog/wp-content/uploads/2016/03/8.png 562w, https://edneypitta.github.io/old-blog/wp-content/uploads/2016/03/8-300x161.png 300w" sizes="(max-width: 562px) 100vw, 562px" /></p>
<p>Note a presen√ßa do Assembly Manifest. Ele tem as seguintes fun√ß√µes:</p>
<ul>
<li>Enumera os arquivos do assembly;</li>
<li>Governa como as refer√™ncias ao tipo do assembly s√£o mapeadas para os arquivos que cont√©m a implementa√ß√£o;</li>
<li>Enumera os assemblies que o assembly depende;</li>
<li>Prov√™ um n√≠vel de separa√ß√£o entre os consumidores do assembly e os detalhes da implementa√ß√£o;</li>
<li>Renderiza a descri√ß√£o do assembly.</li>
</ul>
<p>Ele ainda cont√©m a identidade do assembly, como o nome, o n√∫mero da vers√£o, cultura e informa√ß√µes da assinatura. Voc√™ pode alterar esses valores no arquivo <em>AssemblyInfo.cs</em>, com os atributos <em>AssemblyCultureAttribute</em>, <em>AssemblyTitleAttribute </em>e <em>AssemblyDescriptionAttribute</em>.</p>
<p>Por √∫ltimo, o Assembly Manifest normalmente est√° no Portable Executable (PE), como uma DLL ou .exe junto com o Intermediate Language (IL) que descreve o assembly. Voc√™ pode criar um assembly em m√∫ltiplos arquivos com um Assembly Manifest ou com o Assembly Manifest incorporado dentro de cada PE.</p>
<hr />
<p>E finalmente, terminamos <strong>todos </strong>os objetivos da certifica√ß√£o üòÄ</p>
<p>Logo fa√ßo um post com algumas informa√ß√µes da prova, como as atualiza√ß√µes que vieram em abril de 2014 e algumas dicas a mais.</p>
<p>Obrigado por acompanhar essa jornada e at√© mais!</p>
					</div><!-- .entry-content -->

		<footer class="entry-meta">

	    		      <!-- tags -->
	      <div class="tagcloud">

	          <a href="https://edneypitta.github.io/old-blog/tag/70-487/">70-487</a> 
	      </div>
	      <!-- end tags -->
	      
		</footer><!-- .entry-meta -->
	</div>

	
</article><!-- #post-## -->

			
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-10">
        <div id="dsq-comment-header-10" class="dsq-comment-header">
            <cite id="dsq-cite-10">
                <span id="dsq-author-user-10">AdrianoRC</span>
            </cite>
        </div>
        <div id="dsq-comment-body-10" class="dsq-comment-body">
            <div id="dsq-comment-message-10" class="dsq-comment-message"><p>Edney, voc√™ j√° fez a prova? Como foram teus resultados? A minha est√° marcada para final de Junho.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-41">
        <div id="dsq-comment-header-41" class="dsq-comment-header">
            <cite id="dsq-cite-41">
                <span id="dsq-author-user-41">Raffaello</span>
            </cite>
        </div>
        <div id="dsq-comment-body-41" class="dsq-comment-body">
            <div id="dsq-comment-message-41" class="dsq-comment-message"><p>Edney, responde o cara pow. üòÇ</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="post pingback">
        <p>Pingback: <a href='https://blog.lambda3.com.br/2016/03/certificacao-microsoft-70-487-developing-microsoft-azure-and-web-services/' rel='external nofollow' class='url'>Certifica√ß√£o Microsoft 70-487: Developing Microsoft Azure and Web Services | Blogs da Lambda3</a>()</p>
    </li>
    </li><!-- #comment-## -->
            </ul>


        </div>

    </div>


				<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Navega√ß√£o de Post</h1>
		<div class="nav-links">
			<div class="nav-previous"><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-5-5-create-configure-and-publish-a-web-package/" rel="prev"><i class="fa fa-chevron-left"></i> Certifica√ß√£o Microsoft 70-487: Objetivo 5.5 ‚Äì Create, configure, and publish a web package</a></div><div class="nav-next"><a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-resultado/" rel="next">Certifica√ß√£o Microsoft 70-487 &#8211; Resultado <i class="fa fa-chevron-right"></i></a></div>		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
		
		</main><!-- #main -->
	</div><!-- #primary -->
<script type="text/javascript">

  jQuery(document).ready(function(){
	jQuery('.esconderTextoPagina').remove();
	
  });
</script>

</div>
	<div id="secondary" class="widget-area col-sm-12 col-md-4" role="complementary">
		<div class="well">
						<aside id="text-3" class="widget widget_text">			<div class="textwidget"><a href="https://edneypitta.github.io/old-blog/sobre/"><img src="https://edneypitta.github.io/old-blog/wp-content/uploads/2015/08/IMG-20150829-WA00012-e1440915174271-150x150.jpg"  width="150" height="150" class="aligncenter size-thumbnail wp-image-93" style="border-radius: 80px;" />
<h2 style="text-align:center;">Edney Pitta</h2></a>
<div style="text-align: center;">Desenvolvedor de Software @ Lambda3</div>
<div style="margin-top:20px;text-align:center;"><a href="https://edneypitta.github.io/old-blog/sobre/"><button class="btn btn-danger btn-lg " >SOBRE MIM</button></a></div></div>
		</aside><aside id="search-2" class="widget widget_search">
<form role="search" method="get" class="form-search" action="https://edneypitta.github.io/old-blog/">
  <div class="input-group">
  	<label class="screen-reader-text" for="s">Search for:</label>
    <input type="text" class="form-control search-query" placeholder="Procurar&hellip;" value="" name="s" title="Search for:" />
    <span class="input-group-btn">
      <button type="submit" class="btn btn-default" name="submit" id="searchsubmit" value="Search"><span class="glyphicon glyphicon-search"></span></button>
    </span>
  </div>
</form></aside>		<aside id="recent-posts-3" class="widget widget_recent_entries">		<h3 class="widget-title">Posts recentes</h3>		<ul>
					<li>
				<a href="https://edneypitta.github.io/old-blog/migrando-um-projeto-asp-net-core-rc-1-para-rc-2/">Migrando um projeto ASP.NET Core RC 1 para RC 2</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-486-developing-asp-net-mvc-web-applications/">Certifica√ß√£o Microsoft 70-486: Developing ASP.NET MVC Web Applications</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-480-programming-in-html5-with-javascript-and-css3/">Certifica√ß√£o Microsoft 70-480: Programming in HTML5 with JavaScript and CSS3</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-resultado/">Certifica√ß√£o Microsoft 70-487 &#8211; Resultado</a>
						</li>
					<li>
				<a href="https://edneypitta.github.io/old-blog/certificacao-microsoft-70-487-objetivo-5-6-share-assemblies-between-multiple-applications-and-servers/">Certifica√ß√£o Microsoft 70-487: Objetivo 5.6 ‚Äì Share assemblies between multiple applications and servers</a>
						</li>
				</ul>
		</aside>		<aside id="annual_archive_widget-2" class="widget Annual_Archive_Widget"><h3 class="widget-title">Arquivo</h3>	<ul>
		<li><a href='https://edneypitta.github.io/old-blog/2016/06/'>junho 2016</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/05/'>maio 2016</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/04/'>abril 2016</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/03/'>mar√ßo 2016</a>&nbsp;(10)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/02/'>fevereiro 2016</a>&nbsp;(11)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2016/01/'>janeiro 2016</a>&nbsp;(10)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/12/'>dezembro 2015</a>&nbsp;(3)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/11/'>novembro 2015</a>&nbsp;(3)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/10/'>outubro 2015</a>&nbsp;(1)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/09/'>setembro 2015</a>&nbsp;(5)</li>
	<li><a href='https://edneypitta.github.io/old-blog/2015/08/'>agosto 2015</a>&nbsp;(2)</li>
	</ul>
	</aside>		</div>
	</div><!-- #secondary -->
			</div><!-- close .*-inner (main-content or sidebar, depending if sidebar is used) -->
		</div><!-- close .row -->
	</div><!-- close .container -->
</div><!-- close .site-content -->

	<div id="footer-area">
		<div class="container footer-inner">
			<div class="row">
				
				</div>
		</div>

		<footer id="colophon" class="site-footer" role="contentinfo">
			<div class="site-info container">
				<div class="row">
										<nav role="navigation" class="col-md-6">
						<ul id="menu-social-1" class="nav footer-nav clearfix"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20"><a href="https://br.linkedin.com/in/edneypitta"><i class="fa fa-linkedin-square"></i></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-22"><a href="https://www.facebook.com/edneypitta"><i class="fa fa-facebook-square"></i></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-23"><a href="https://twitter.com/edneypitta"><i class="fa fa-twitter-square"></i></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-24"><a href="https://edneypitta.github.io/old-blog/feed/"><i class="fa fa-rss"></i></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-27"><a href="https://edneypitta.github.io/old-blog/sobre/"><i class="fa fa-info-circle"></i></a></li>
</ul>					</nav>
					<div class="copyright col-md-6">
						<a rel="license" href="http://creativecommons.org/licenses/by/2.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/2.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/2.0/">Creative Commons Attribution 2.0 Generic License</a>.						Theme by <a href="http://colorlib.com/" target="_blank">Colorlib</a> Powered by <a href="http://wordpress.org/" target="_blank">WordPress</a>					</div>
				</div>
			</div><!-- .site-info -->
			<div class="scroll-to-top"><i class="fa fa-angle-up"></i></div><!-- .scroll-to-top -->
		</footer><!-- #colophon -->
	</div>
</div><!-- #page -->

<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-content/themes/sparkling/inc/js/skip-link-focus-fix.js?ver=20140222'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/comment-reply.min.js?ver=4.8.2'></script>
<script type='text/javascript' src='https://edneypitta.github.io/old-blog/wp-includes/js/wp-embed.min.js?ver=4.8.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"platform":"wordpress@4.8.2","language":""},"disqusIdentifier":"570 http:\/\/edneypitta.github.io\/?p=570","disqusShortname":"edneypitta","disqusTitle":"Certifica\u00e7\u00e3o Microsoft 70-487: Objetivo 5.6 \u2013 Share assemblies between multiple applications and servers","disqusUrl":"http:\/\/edneypitta.github.io\/certificacao-microsoft-70-487-objetivo-5-6-share-assemblies-between-multiple-applications-and-servers\/","options":{"manualSync":false},"postId":"570"};
/* ]]> */
</script>

<script type='text/javascript'>
/* <![CDATA[ */

/* ]]> */
</script>


</body>
</html>